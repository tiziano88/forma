var Ne=Object.defineProperty;var ke=(e,t,n)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var me=(e,t,n)=>ke(e,typeof t!="symbol"?t+"":t,n);function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const f=t[n];if(typeof f!="string"&&!Array.isArray(f)){for(const u in f)if(u!=="default"&&!(u in e)){const i=Object.getOwnPropertyDescriptor(f,u);i&&Object.defineProperty(e,u,i.get?i:{enumerable:!0,get:()=>f[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))f(u);new MutationObserver(u=>{for(const i of u)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&f(r)}).observe(document,{childList:!0,subtree:!0});function n(u){const i={};return u.integrity&&(i.integrity=u.integrity),u.referrerPolicy&&(i.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?i.credentials="include":u.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function f(u){if(u.ep)return;u.ep=!0;const i=n(u);fetch(u.href,i)}})();const DEV=!1;var is_array=Array.isArray,index_of=Array.prototype.indexOf,array_from=Array.from,define_property=Object.defineProperty,get_descriptor=Object.getOwnPropertyDescriptor,get_descriptors=Object.getOwnPropertyDescriptors,object_prototype=Object.prototype,array_prototype=Array.prototype,get_prototype_of=Object.getPrototypeOf,is_extensible=Object.isExtensible;function run(e){return e()}function run_all(e){for(var t=0;t<e.length;t++)e[t]()}const DERIVED=2,EFFECT=4,RENDER_EFFECT=8,BLOCK_EFFECT=16,BRANCH_EFFECT=32,ROOT_EFFECT=64,BOUNDARY_EFFECT=128,UNOWNED=256,DISCONNECTED=512,CLEAN=1024,DIRTY=2048,MAYBE_DIRTY=4096,INERT=8192,DESTROYED=16384,EFFECT_RAN=32768,EFFECT_TRANSPARENT=65536,INSPECT_EFFECT=1<<17,HEAD_EFFECT=1<<18,EFFECT_PRESERVED=1<<19,EFFECT_IS_UPDATING=1<<20,STATE_SYMBOL=Symbol("$state"),LEGACY_PROPS=Symbol("legacy props"),STALE_REACTION=new class extends Error{constructor(){super(...arguments);me(this,"name","StaleReactionError");me(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function equals(e){return e===this.v}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function safe_equals(e){return!safe_not_equal(e,this.v)}function effect_in_teardown(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function effect_in_unowned_derived(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function effect_orphan(e){throw new Error("https://svelte.dev/e/effect_orphan")}function effect_update_depth_exceeded(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function props_invalid_value(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function state_descriptors_fixed(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function state_prototype_fixed(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function state_unsafe_mutation(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let legacy_mode_flag=!1,tracing_mode_flag=!1;function enable_legacy_mode_flag(){legacy_mode_flag=!0}const EACH_ITEM_REACTIVE=1,EACH_INDEX_REACTIVE=2,EACH_IS_CONTROLLED=4,EACH_IS_ANIMATED=8,EACH_ITEM_IMMUTABLE=16,PROPS_IS_IMMUTABLE=1,PROPS_IS_RUNES=2,PROPS_IS_UPDATED=4,PROPS_IS_BINDABLE=8,PROPS_IS_LAZY_INITIAL=16,TEMPLATE_FRAGMENT=1,TEMPLATE_USE_IMPORT_NODE=2,UNINITIALIZED=Symbol();function lifecycle_outside_component(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let component_context=null;function set_component_context(e){component_context=e}function push(e,t=!1,n){var f=component_context={p:component_context,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};legacy_mode_flag&&!t&&(component_context.l={s:null,u:null,r1:[],r2:source(!1)}),teardown(()=>{f.d=!0})}function pop(e){const t=component_context;if(t!==null){const r=t.e;if(r!==null){var n=active_effect,f=active_reaction;t.e=null;try{for(var u=0;u<r.length;u++){var i=r[u];set_active_effect(i.effect),set_active_reaction(i.reaction),effect(i.fn)}}finally{set_active_effect(n),set_active_reaction(f)}}component_context=t.p,t.m=!0}return{}}function is_runes(){return!legacy_mode_flag||component_context!==null&&component_context.l===null}function proxy(e){if(typeof e!="object"||e===null||STATE_SYMBOL in e)return e;const t=get_prototype_of(e);if(t!==object_prototype&&t!==array_prototype)return e;var n=new Map,f=is_array(e),u=state(0),i=active_reaction,r=s=>{var o=active_reaction;set_active_reaction(i);var a=s();return set_active_reaction(o),a};return f&&n.set("length",state(e.length)),new Proxy(e,{defineProperty(s,o,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&state_descriptors_fixed();var h=n.get(o);return h===void 0?h=r(()=>{var l=state(a.value);return n.set(o,l),l}):set(h,a.value,!0),!0},deleteProperty(s,o){var a=n.get(o);if(a===void 0){if(o in s){const c=r(()=>state(UNINITIALIZED));n.set(o,c),update_version(u)}}else{if(f&&typeof o=="string"){var h=n.get("length"),l=Number(o);Number.isInteger(l)&&l<h.v&&set(h,l)}set(a,UNINITIALIZED),update_version(u)}return!0},get(s,o,a){var d;if(o===STATE_SYMBOL)return e;var h=n.get(o),l=o in s;if(h===void 0&&(!l||(d=get_descriptor(s,o))!=null&&d.writable)&&(h=r(()=>{var p=proxy(l?s[o]:UNINITIALIZED),v=state(p);return v}),n.set(o,h)),h!==void 0){var c=get(h);return c===UNINITIALIZED?void 0:c}return Reflect.get(s,o,a)},getOwnPropertyDescriptor(s,o){var a=Reflect.getOwnPropertyDescriptor(s,o);if(a&&"value"in a){var h=n.get(o);h&&(a.value=get(h))}else if(a===void 0){var l=n.get(o),c=l==null?void 0:l.v;if(l!==void 0&&c!==UNINITIALIZED)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return a},has(s,o){var c;if(o===STATE_SYMBOL)return!0;var a=n.get(o),h=a!==void 0&&a.v!==UNINITIALIZED||Reflect.has(s,o);if(a!==void 0||active_effect!==null&&(!h||(c=get_descriptor(s,o))!=null&&c.writable)){a===void 0&&(a=r(()=>{var d=h?proxy(s[o]):UNINITIALIZED,p=state(d);return p}),n.set(o,a));var l=get(a);if(l===UNINITIALIZED)return!1}return h},set(s,o,a,h){var g;var l=n.get(o),c=o in s;if(f&&o==="length")for(var d=a;d<l.v;d+=1){var p=n.get(d+"");p!==void 0?set(p,UNINITIALIZED):d in s&&(p=r(()=>state(UNINITIALIZED)),n.set(d+"",p))}if(l===void 0)(!c||(g=get_descriptor(s,o))!=null&&g.writable)&&(l=r(()=>state(void 0)),set(l,proxy(a)),n.set(o,l));else{c=l.v!==UNINITIALIZED;var v=r(()=>proxy(a));set(l,v)}var y=Reflect.getOwnPropertyDescriptor(s,o);if(y!=null&&y.set&&y.set.call(h,a),!c){if(f&&typeof o=="string"){var m=n.get("length"),_=Number(o);Number.isInteger(_)&&_>=m.v&&set(m,_+1)}update_version(u)}return!0},ownKeys(s){get(u);var o=Reflect.ownKeys(s).filter(l=>{var c=n.get(l);return c===void 0||c.v!==UNINITIALIZED});for(var[a,h]of n)h.v!==UNINITIALIZED&&!(a in s)&&o.push(a);return o},setPrototypeOf(){state_prototype_fixed()}})}function update_version(e,t=1){set(e,e.v+t)}function get_proxied_value(e){try{if(e!==null&&typeof e=="object"&&STATE_SYMBOL in e)return e[STATE_SYMBOL]}catch{}return e}function is(e,t){return Object.is(get_proxied_value(e),get_proxied_value(t))}function derived(e){var t=DERIVED|DIRTY,n=active_reaction!==null&&(active_reaction.f&DERIVED)!==0?active_reaction:null;return active_effect===null||n!==null&&(n.f&UNOWNED)!==0?t|=UNOWNED:active_effect.f|=EFFECT_PRESERVED,{ctx:component_context,deps:null,effects:null,equals,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??active_effect,ac:null}}function derived_safe_equal(e){const t=derived(e);return t.equals=safe_equals,t}function destroy_derived_effects(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)destroy_effect(t[n])}}function get_derived_parent_effect(e){for(var t=e.parent;t!==null;){if((t.f&DERIVED)===0)return t;t=t.parent}return null}function execute_derived(e){var t,n=active_effect;set_active_effect(get_derived_parent_effect(e));try{destroy_derived_effects(e),t=update_reaction(e)}finally{set_active_effect(n)}return t}function update_derived(e){var t=execute_derived(e);if(e.equals(t)||(e.v=t,e.wv=increment_write_version()),!is_destroying_effect){var n=(skip_reaction||(e.f&UNOWNED)!==0)&&e.deps!==null?MAYBE_DIRTY:CLEAN;set_signal_status(e,n)}}const old_values=new Map;function source(e,t){var n={f:0,v:e,reactions:null,equals,rv:0,wv:0};return n}function state(e,t){const n=source(e);return push_reaction_value(n),n}function mutable_source(e,t=!1,n=!0){var u;const f=source(e);return t||(f.equals=safe_equals),legacy_mode_flag&&n&&component_context!==null&&component_context.l!==null&&((u=component_context.l).s??(u.s=[])).push(f),f}function mutate(e,t){return set(e,untrack(()=>get(e))),t}function set(e,t,n=!1){active_reaction!==null&&(!untracking||(active_reaction.f&INSPECT_EFFECT)!==0)&&is_runes()&&(active_reaction.f&(DERIVED|BLOCK_EFFECT|INSPECT_EFFECT))!==0&&!(reaction_sources!=null&&reaction_sources[1].includes(e)&&reaction_sources[0]===active_reaction)&&state_unsafe_mutation();let f=n?proxy(t):t;return internal_set(e,f)}function internal_set(e,t){if(!e.equals(t)){var n=e.v;is_destroying_effect?old_values.set(e,t):old_values.set(e,n),e.v=t,(e.f&DERIVED)!==0&&((e.f&DIRTY)!==0&&execute_derived(e),set_signal_status(e,(e.f&UNOWNED)===0?CLEAN:MAYBE_DIRTY)),e.wv=increment_write_version(),mark_reactions(e,DIRTY),is_runes()&&active_effect!==null&&(active_effect.f&CLEAN)!==0&&(active_effect.f&(BRANCH_EFFECT|ROOT_EFFECT))===0&&(untracked_writes===null?set_untracked_writes([e]):untracked_writes.push(e))}return t}function mark_reactions(e,t){var n=e.reactions;if(n!==null)for(var f=is_runes(),u=n.length,i=0;i<u;i++){var r=n[i],s=r.f;(s&DIRTY)===0&&(!f&&r===active_effect||(set_signal_status(r,t),(s&(CLEAN|UNOWNED))!==0&&((s&DERIVED)!==0?mark_reactions(r,MAYBE_DIRTY):schedule_effect(r))))}}function select_multiple_invalid_value(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let hydrating=!1;var $window,is_firefox,first_child_getter,next_sibling_getter;function init_operations(){if($window===void 0){$window=window,is_firefox=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;first_child_getter=get_descriptor(t,"firstChild").get,next_sibling_getter=get_descriptor(t,"nextSibling").get,is_extensible(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),is_extensible(n)&&(n.__t=void 0)}}function create_text(e=""){return document.createTextNode(e)}function get_first_child(e){return first_child_getter.call(e)}function get_next_sibling(e){return next_sibling_getter.call(e)}function child(e,t){return get_first_child(e)}function first_child(e,t){{var n=get_first_child(e);return n instanceof Comment&&n.data===""?get_next_sibling(n):n}}function sibling(e,t=1,n=!1){let f=e;for(;t--;)f=get_next_sibling(f);return f}function clear_text_content(e){e.textContent=""}function validate_effect(e){active_effect===null&&active_reaction===null&&effect_orphan(),active_reaction!==null&&(active_reaction.f&UNOWNED)!==0&&active_effect===null&&effect_in_unowned_derived(),is_destroying_effect&&effect_in_teardown()}function push_effect(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function create_effect(e,t,n,f=!0){var u=active_effect,i={ctx:component_context,deps:null,nodes_start:null,nodes_end:null,f:e|DIRTY,first:null,fn:t,last:null,next:null,parent:u,b:u&&u.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{update_effect(i),i.f|=EFFECT_RAN}catch(o){throw destroy_effect(i),o}else t!==null&&schedule_effect(i);var r=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(EFFECT_PRESERVED|BOUNDARY_EFFECT))===0;if(!r&&f&&(u!==null&&push_effect(i,u),active_reaction!==null&&(active_reaction.f&DERIVED)!==0)){var s=active_reaction;(s.effects??(s.effects=[])).push(i)}return i}function teardown(e){const t=create_effect(RENDER_EFFECT,null,!1);return set_signal_status(t,CLEAN),t.teardown=e,t}function user_effect(e){validate_effect();var t=active_effect!==null&&(active_effect.f&BRANCH_EFFECT)!==0&&component_context!==null&&!component_context.m;if(t){var n=component_context;(n.e??(n.e=[])).push({fn:e,effect:active_effect,reaction:active_reaction})}else{var f=effect(e);return f}}function user_pre_effect(e){return validate_effect(),render_effect(e)}function component_root(e){const t=create_effect(ROOT_EFFECT,e,!0);return(n={})=>new Promise(f=>{n.outro?pause_effect(t,()=>{destroy_effect(t),f(void 0)}):(destroy_effect(t),f(void 0))})}function effect(e){return create_effect(EFFECT,e,!1)}function legacy_pre_effect(e,t){var n=component_context,f={effect:null,ran:!1};n.l.r1.push(f),f.effect=render_effect(()=>{e(),!f.ran&&(f.ran=!0,set(n.l.r2,!0),untrack(t))})}function legacy_pre_effect_reset(){var e=component_context;render_effect(()=>{if(get(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&CLEAN)!==0&&set_signal_status(n,MAYBE_DIRTY),check_dirtiness(n)&&update_effect(n),t.ran=!1}e.l.r2.v=!1}})}function render_effect(e){return create_effect(RENDER_EFFECT,e,!0)}function template_effect(e,t=[],n=derived){const f=t.map(n);return block(()=>e(...f.map(get)))}function block(e,t=0){var n=create_effect(RENDER_EFFECT|BLOCK_EFFECT|t,e,!0);return n}function branch(e,t=!0){return create_effect(RENDER_EFFECT|BRANCH_EFFECT,e,!0,t)}function execute_effect_teardown(e){var t=e.teardown;if(t!==null){const n=is_destroying_effect,f=active_reaction;set_is_destroying_effect(!0),set_active_reaction(null);try{t.call(null)}finally{set_is_destroying_effect(n),set_active_reaction(f)}}}function destroy_effect_children(e,t=!1){var u;var n=e.first;for(e.first=e.last=null;n!==null;){(u=n.ac)==null||u.abort(STALE_REACTION);var f=n.next;(n.f&ROOT_EFFECT)!==0?n.parent=null:destroy_effect(n,t),n=f}}function destroy_block_effect_children(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&BRANCH_EFFECT)===0&&destroy_effect(t),t=n}}function destroy_effect(e,t=!0){var n=!1;(t||(e.f&HEAD_EFFECT)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(remove_effect_dom(e.nodes_start,e.nodes_end),n=!0),destroy_effect_children(e,t&&!n),remove_reactions(e,0),set_signal_status(e,DESTROYED);var f=e.transitions;if(f!==null)for(const i of f)i.stop();execute_effect_teardown(e);var u=e.parent;u!==null&&u.first!==null&&unlink_effect(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function remove_effect_dom(e,t){for(;e!==null;){var n=e===t?null:get_next_sibling(e);e.remove(),e=n}}function unlink_effect(e){var t=e.parent,n=e.prev,f=e.next;n!==null&&(n.next=f),f!==null&&(f.prev=n),t!==null&&(t.first===e&&(t.first=f),t.last===e&&(t.last=n))}function pause_effect(e,t){var n=[];pause_children(e,n,!0),run_out_transitions(n,()=>{destroy_effect(e),t&&t()})}function run_out_transitions(e,t){var n=e.length;if(n>0){var f=()=>--n||t();for(var u of e)u.out(f)}else t()}function pause_children(e,t,n){if((e.f&INERT)===0){if(e.f^=INERT,e.transitions!==null)for(const r of e.transitions)(r.is_global||n)&&t.push(r);for(var f=e.first;f!==null;){var u=f.next,i=(f.f&EFFECT_TRANSPARENT)!==0||(f.f&BRANCH_EFFECT)!==0;pause_children(f,t,i?n:!1),f=u}}}function resume_effect(e){resume_children(e,!0)}function resume_children(e,t){if((e.f&INERT)!==0){e.f^=INERT;for(var n=e.first;n!==null;){var f=n.next,u=(n.f&EFFECT_TRANSPARENT)!==0||(n.f&BRANCH_EFFECT)!==0;resume_children(n,u?t:!1),n=f}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let micro_tasks=[];function run_micro_tasks(){var e=micro_tasks;micro_tasks=[],run_all(e)}function queue_micro_task(e){micro_tasks.length===0&&queueMicrotask(run_micro_tasks),micro_tasks.push(e)}function handle_error(e){var t=active_effect;if((t.f&EFFECT_RAN)===0){if((t.f&BOUNDARY_EFFECT)===0)throw e;t.fn(e)}else invoke_error_boundary(e,t)}function invoke_error_boundary(e,t){for(;t!==null;){if((t.f&BOUNDARY_EFFECT)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let is_flushing=!1,last_scheduled_effect=null,is_updating_effect=!1,is_destroying_effect=!1;function set_is_destroying_effect(e){is_destroying_effect=e}let queued_root_effects=[],dev_effect_stack=[],active_reaction=null,untracking=!1;function set_active_reaction(e){active_reaction=e}let active_effect=null;function set_active_effect(e){active_effect=e}let reaction_sources=null;function push_reaction_value(e){active_reaction!==null&&active_reaction.f&EFFECT_IS_UPDATING&&(reaction_sources===null?reaction_sources=[active_reaction,[e]]:reaction_sources[1].push(e))}let new_deps=null,skipped_deps=0,untracked_writes=null;function set_untracked_writes(e){untracked_writes=e}let write_version=1,read_version=0,skip_reaction=!1,captured_signals=null;function increment_write_version(){return++write_version}function check_dirtiness(e){var l;var t=e.f;if((t&DIRTY)!==0)return!0;if((t&MAYBE_DIRTY)!==0){var n=e.deps,f=(t&UNOWNED)!==0;if(n!==null){var u,i,r=(t&DISCONNECTED)!==0,s=f&&active_effect!==null&&!skip_reaction,o=n.length;if(r||s){var a=e,h=a.parent;for(u=0;u<o;u++)i=n[u],(r||!((l=i==null?void 0:i.reactions)!=null&&l.includes(a)))&&(i.reactions??(i.reactions=[])).push(a);r&&(a.f^=DISCONNECTED),s&&h!==null&&(h.f&UNOWNED)===0&&(a.f^=UNOWNED)}for(u=0;u<o;u++)if(i=n[u],check_dirtiness(i)&&update_derived(i),i.wv>e.wv)return!0}(!f||active_effect!==null&&!skip_reaction)&&set_signal_status(e,CLEAN)}return!1}function schedule_possible_effect_self_invalidation(e,t,n=!0){var f=e.reactions;if(f!==null)for(var u=0;u<f.length;u++){var i=f[u];reaction_sources!=null&&reaction_sources[1].includes(e)&&reaction_sources[0]===active_reaction||((i.f&DERIVED)!==0?schedule_possible_effect_self_invalidation(i,t,!1):t===i&&(n?set_signal_status(i,DIRTY):(i.f&CLEAN)!==0&&set_signal_status(i,MAYBE_DIRTY),schedule_effect(i)))}}function update_reaction(e){var d;var t=new_deps,n=skipped_deps,f=untracked_writes,u=active_reaction,i=skip_reaction,r=reaction_sources,s=component_context,o=untracking,a=e.f;new_deps=null,skipped_deps=0,untracked_writes=null,skip_reaction=(a&UNOWNED)!==0&&(untracking||!is_updating_effect||active_reaction===null),active_reaction=(a&(BRANCH_EFFECT|ROOT_EFFECT))===0?e:null,reaction_sources=null,set_component_context(e.ctx),untracking=!1,read_version++,e.f|=EFFECT_IS_UPDATING,e.ac!==null&&(e.ac.abort(STALE_REACTION),e.ac=null);try{var h=(0,e.fn)(),l=e.deps;if(new_deps!==null){var c;if(remove_reactions(e,skipped_deps),l!==null&&skipped_deps>0)for(l.length=skipped_deps+new_deps.length,c=0;c<new_deps.length;c++)l[skipped_deps+c]=new_deps[c];else e.deps=l=new_deps;if(!skip_reaction||(a&DERIVED)!==0&&e.reactions!==null)for(c=skipped_deps;c<l.length;c++)((d=l[c]).reactions??(d.reactions=[])).push(e)}else l!==null&&skipped_deps<l.length&&(remove_reactions(e,skipped_deps),l.length=skipped_deps);if(is_runes()&&untracked_writes!==null&&!untracking&&l!==null&&(e.f&(DERIVED|MAYBE_DIRTY|DIRTY))===0)for(c=0;c<untracked_writes.length;c++)schedule_possible_effect_self_invalidation(untracked_writes[c],e);return u!==null&&u!==e&&(read_version++,untracked_writes!==null&&(f===null?f=untracked_writes:f.push(...untracked_writes))),h}catch(p){handle_error(p)}finally{new_deps=t,skipped_deps=n,untracked_writes=f,active_reaction=u,skip_reaction=i,reaction_sources=r,set_component_context(s),untracking=o,e.f^=EFFECT_IS_UPDATING}}function remove_reaction(e,t){let n=t.reactions;if(n!==null){var f=index_of.call(n,e);if(f!==-1){var u=n.length-1;u===0?n=t.reactions=null:(n[f]=n[u],n.pop())}}n===null&&(t.f&DERIVED)!==0&&(new_deps===null||!new_deps.includes(t))&&(set_signal_status(t,MAYBE_DIRTY),(t.f&(UNOWNED|DISCONNECTED))===0&&(t.f^=DISCONNECTED),destroy_derived_effects(t),remove_reactions(t,0))}function remove_reactions(e,t){var n=e.deps;if(n!==null)for(var f=t;f<n.length;f++)remove_reaction(e,n[f])}function update_effect(e){var t=e.f;if((t&DESTROYED)===0){set_signal_status(e,CLEAN);var n=active_effect,f=is_updating_effect;active_effect=e,is_updating_effect=!0;try{(t&BLOCK_EFFECT)!==0?destroy_block_effect_children(e):destroy_effect_children(e),execute_effect_teardown(e);var u=update_reaction(e);e.teardown=typeof u=="function"?u:null,e.wv=write_version;var i;DEV&&tracing_mode_flag&&(e.f&DIRTY)!==0&&e.deps}finally{is_updating_effect=f,active_effect=n}}}function infinite_loop_guard(){try{effect_update_depth_exceeded()}catch(e){if(last_scheduled_effect!==null)invoke_error_boundary(e,last_scheduled_effect);else throw e}}function flush_queued_root_effects(){var e=is_updating_effect;try{var t=0;for(is_updating_effect=!0;queued_root_effects.length>0;){t++>1e3&&infinite_loop_guard();var n=queued_root_effects,f=n.length;queued_root_effects=[];for(var u=0;u<f;u++){var i=process_effects(n[u]);flush_queued_effects(i)}old_values.clear()}}finally{is_flushing=!1,is_updating_effect=e,last_scheduled_effect=null}}function flush_queued_effects(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var f=e[n];(f.f&(DESTROYED|INERT))===0&&check_dirtiness(f)&&(update_effect(f),f.deps===null&&f.first===null&&f.nodes_start===null&&(f.teardown===null?unlink_effect(f):f.fn=null))}}function schedule_effect(e){is_flushing||(is_flushing=!0,queueMicrotask(flush_queued_root_effects));for(var t=last_scheduled_effect=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(ROOT_EFFECT|BRANCH_EFFECT))!==0){if((n&CLEAN)===0)return;t.f^=CLEAN}}queued_root_effects.push(t)}function process_effects(e){for(var t=[],n=e;n!==null;){var f=n.f,u=(f&(BRANCH_EFFECT|ROOT_EFFECT))!==0,i=u&&(f&CLEAN)!==0;if(!i&&(f&INERT)===0){(f&EFFECT)!==0?t.push(n):u?n.f^=CLEAN:check_dirtiness(n)&&update_effect(n);var r=n.first;if(r!==null){n=r;continue}}var s=n.parent;for(n=n.next;n===null&&s!==null;)n=s.next,s=s.parent}return t}function get(e){var t=e.f,n=(t&DERIVED)!==0;if(captured_signals!==null&&captured_signals.add(e),active_reaction!==null&&!untracking){if(!(reaction_sources!=null&&reaction_sources[1].includes(e))||reaction_sources[0]!==active_reaction){var f=active_reaction.deps;e.rv<read_version&&(e.rv=read_version,new_deps===null&&f!==null&&f[skipped_deps]===e?skipped_deps++:new_deps===null?new_deps=[e]:(!skip_reaction||!new_deps.includes(e))&&new_deps.push(e))}}else if(n&&e.deps===null&&e.effects===null){var u=e,i=u.parent;i!==null&&(i.f&UNOWNED)===0&&(u.f^=UNOWNED)}return n&&(u=e,check_dirtiness(u)&&update_derived(u)),is_destroying_effect&&old_values.has(e)?old_values.get(e):e.v}function capture_signals(e){var t=captured_signals;captured_signals=new Set;var n=captured_signals,f;try{if(untrack(e),t!==null)for(f of captured_signals)t.add(f)}finally{captured_signals=t}return n}function invalidate_inner_signals(e){var t=capture_signals(()=>untrack(e));for(var n of t)internal_set(n,n.v)}function untrack(e){var t=untracking;try{return untracking=!0,e()}finally{untracking=t}}const STATUS_MASK=-7169;function set_signal_status(e,t){e.f=e.f&STATUS_MASK|t}function deep_read_state(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(STATE_SYMBOL in e)deep_read(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&STATE_SYMBOL in n&&deep_read(n)}}}function deep_read(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let f in e)try{deep_read(e[f],t)}catch{}const n=get_prototype_of(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const f=get_descriptors(n);for(let u in f){const i=f[u].get;if(i)try{i.call(e)}catch{}}}}}const PASSIVE_EVENTS=["touchstart","touchmove"];function is_passive_event(e){return PASSIVE_EVENTS.includes(e)}let listening_to_form_reset=!1;function add_form_reset_listener(){listening_to_form_reset||(listening_to_form_reset=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function without_reactive_context(e){var t=active_reaction,n=active_effect;set_active_reaction(null),set_active_effect(null);try{return e()}finally{set_active_reaction(t),set_active_effect(n)}}function listen_to_event_and_reset_event(e,t,n,f=n){e.addEventListener(t,()=>without_reactive_context(n));const u=e.__on_r;u?e.__on_r=()=>{u(),f(!0)}:e.__on_r=()=>f(!0),add_form_reset_listener()}const all_registered_events=new Set,root_event_handles=new Set;function create_event(e,t,n,f={}){function u(i){if(f.capture||handle_event_propagation.call(t,i),!i.cancelBubble)return without_reactive_context(()=>n==null?void 0:n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?queue_micro_task(()=>{t.addEventListener(e,u,f)}):t.addEventListener(e,u,f),u}function event(e,t,n,f,u){var i={capture:f,passive:u},r=create_event(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&teardown(()=>{t.removeEventListener(e,r,i)})}function handle_event_propagation(e){var _;var t=this,n=t.ownerDocument,f=e.type,u=((_=e.composedPath)==null?void 0:_.call(e))||[],i=u[0]||e.target,r=0,s=e.__root;if(s){var o=u.indexOf(s);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var a=u.indexOf(t);if(a===-1)return;o<=a&&(r=o)}if(i=u[r]||e.target,i!==t){define_property(e,"currentTarget",{configurable:!0,get(){return i||n}});var h=active_reaction,l=active_effect;set_active_reaction(null),set_active_effect(null);try{for(var c,d=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var v=i["__"+f];if(v!=null&&(!i.disabled||e.target===i))if(is_array(v)){var[y,...m]=v;y.apply(i,[e,...m])}else v.call(i,e)}catch(g){c?d.push(g):c=g}if(e.cancelBubble||p===t||p===null)break;i=p}if(c){for(let g of d)queueMicrotask(()=>{throw g});throw c}}finally{e.__root=t,delete e.currentTarget,set_active_reaction(h),set_active_effect(l)}}}function create_fragment_from_html(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function assign_nodes(e,t){var n=active_effect;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function from_html(e,t){var n=(t&TEMPLATE_FRAGMENT)!==0,f=(t&TEMPLATE_USE_IMPORT_NODE)!==0,u,i=!e.startsWith("<!>");return()=>{u===void 0&&(u=create_fragment_from_html(i?e:"<!>"+e),n||(u=get_first_child(u)));var r=f||is_firefox?document.importNode(u,!0):u.cloneNode(!0);if(n){var s=get_first_child(r),o=r.lastChild;assign_nodes(s,o)}else assign_nodes(r,r);return r}}function comment(){var e=document.createDocumentFragment(),t=document.createComment(""),n=create_text();return e.append(t,n),assign_nodes(t,n),e}function append(e,t){e!==null&&e.before(t)}function set_text(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function mount(e,t){return _mount(e,t)}const document_listeners=new Map;function _mount(e,{target:t,anchor:n,props:f={},events:u,context:i,intro:r=!0}){init_operations();var s=new Set,o=l=>{for(var c=0;c<l.length;c++){var d=l[c];if(!s.has(d)){s.add(d);var p=is_passive_event(d);t.addEventListener(d,handle_event_propagation,{passive:p});var v=document_listeners.get(d);v===void 0?(document.addEventListener(d,handle_event_propagation,{passive:p}),document_listeners.set(d,1)):document_listeners.set(d,v+1)}}};o(array_from(all_registered_events)),root_event_handles.add(o);var a=void 0,h=component_root(()=>{var l=n??t.appendChild(create_text());return branch(()=>{if(i){push({});var c=component_context;c.c=i}u&&(f.$$events=u),a=e(l,f)||{},i&&pop()}),()=>{var p;for(var c of s){t.removeEventListener(c,handle_event_propagation);var d=document_listeners.get(c);--d===0?(document.removeEventListener(c,handle_event_propagation),document_listeners.delete(c)):document_listeners.set(c,d)}root_event_handles.delete(o),l!==n&&((p=l.parentNode)==null||p.removeChild(l))}});return mounted_components.set(a,h),a}let mounted_components=new WeakMap;function if_block(e,t,[n,f]=[0,0]){var u=e,i=null,r=null,s=UNINITIALIZED,o=n>0?EFFECT_TRANSPARENT:0,a=!1;const h=(c,d=!0)=>{a=!0,l(d,c)},l=(c,d)=>{s!==(s=c)&&(s?(i?resume_effect(i):d&&(i=branch(()=>d(u))),r&&pause_effect(r,()=>{r=null})):(r?resume_effect(r):d&&(r=branch(()=>d(u,[n+1,f]))),i&&pause_effect(i,()=>{i=null})))};block(()=>{a=!1,t(h),a||l(null,null)},o)}function index$1(e,t){return t}function pause_effects(e,t,n,f){for(var u=[],i=t.length,r=0;r<i;r++)pause_children(t[r].e,u,!0);var s=i>0&&u.length===0&&n!==null;if(s){var o=n.parentNode;clear_text_content(o),o.append(n),f.clear(),link(e,t[0].prev,t[i-1].next)}run_out_transitions(u,()=>{for(var a=0;a<i;a++){var h=t[a];s||(f.delete(h.k),link(e,h.prev,h.next)),destroy_effect(h.e,!s)}})}function each(e,t,n,f,u,i=null){var r=e,s={flags:t,items:new Map,first:null},o=(t&EACH_IS_CONTROLLED)!==0;if(o){var a=e;r=a.appendChild(create_text())}var h=null,l=!1,c=derived_safe_equal(()=>{var d=n();return is_array(d)?d:d==null?[]:array_from(d)});block(()=>{var d=get(c),p=d.length;l&&p===0||(l=p===0,reconcile(d,s,r,u,t,f,n),i!==null&&(p===0?h?resume_effect(h):h=branch(()=>i(r)):h!==null&&pause_effect(h,()=>{h=null})),get(c))})}function reconcile(e,t,n,f,u,i,r){var q,F,B,C;var s=(u&EACH_IS_ANIMATED)!==0,o=(u&(EACH_ITEM_REACTIVE|EACH_INDEX_REACTIVE))!==0,a=e.length,h=t.items,l=t.first,c=l,d,p=null,v,y=[],m=[],_,g,b,A;if(s)for(A=0;A<a;A+=1)_=e[A],g=i(_,A),b=h.get(g),b!==void 0&&((q=b.a)==null||q.measure(),(v??(v=new Set)).add(b));for(A=0;A<a;A+=1){if(_=e[A],g=i(_,A),b=h.get(g),b===void 0){var R=c?c.e.nodes_start:n;p=create_item(R,t,p,p===null?t.first:p.next,_,g,A,f,u,r),h.set(g,p),y=[],m=[],c=p.next;continue}if(o&&update_item(b,_,A,u),(b.e.f&INERT)!==0&&(resume_effect(b.e),s&&((F=b.a)==null||F.unfix(),(v??(v=new Set)).delete(b))),b!==c){if(d!==void 0&&d.has(b)){if(y.length<m.length){var P=m[0],$;p=P.prev;var D=y[0],L=y[y.length-1];for($=0;$<y.length;$+=1)move(y[$],P,n);for($=0;$<m.length;$+=1)d.delete(m[$]);link(t,D.prev,L.next),link(t,p,D),link(t,L,P),c=P,p=L,A-=1,y=[],m=[]}else d.delete(b),move(b,c,n),link(t,b.prev,b.next),link(t,b,p===null?t.first:p.next),link(t,p,b),p=b;continue}for(y=[],m=[];c!==null&&c.k!==g;)(c.e.f&INERT)===0&&(d??(d=new Set)).add(c),m.push(c),c=c.next;if(c===null)continue;b=c}y.push(b),p=b,c=b.next}if(c!==null||d!==void 0){for(var x=d===void 0?[]:array_from(d);c!==null;)(c.e.f&INERT)===0&&x.push(c),c=c.next;var H=x.length;if(H>0){var W=(u&EACH_IS_CONTROLLED)!==0&&a===0?n:null;if(s){for(A=0;A<H;A+=1)(B=x[A].a)==null||B.measure();for(A=0;A<H;A+=1)(C=x[A].a)==null||C.fix()}pause_effects(t,x,W,h)}}s&&queue_micro_task(()=>{var J;if(v!==void 0)for(b of v)(J=b.a)==null||J.apply()}),active_effect.first=t.first&&t.first.e,active_effect.last=p&&p.e}function update_item(e,t,n,f){(f&EACH_ITEM_REACTIVE)!==0&&internal_set(e.v,t),(f&EACH_INDEX_REACTIVE)!==0?internal_set(e.i,n):e.i=n}function create_item(e,t,n,f,u,i,r,s,o,a){var h=(o&EACH_ITEM_REACTIVE)!==0,l=(o&EACH_ITEM_IMMUTABLE)===0,c=h?l?mutable_source(u,!1,!1):source(u):u,d=(o&EACH_INDEX_REACTIVE)===0?r:source(r),p={i:d,v:c,k:i,a:null,e:null,prev:n,next:f};try{return p.e=branch(()=>s(e,c,d,a),hydrating),p.e.prev=n&&n.e,p.e.next=f&&f.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),f!==null&&(f.prev=p,f.e.prev=p.e),p}finally{}}function move(e,t,n){for(var f=e.next?e.next.e.nodes_start:n,u=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==f;){var r=get_next_sibling(i);u.before(i),i=r}}function link(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function select_option(e,t,n){if(e.multiple){if(t==null)return;if(!is_array(t))return select_multiple_invalid_value();for(var f of e.options)f.selected=t.includes(get_option_value(f));return}for(f of e.options){var u=get_option_value(f);if(is(u,t)){f.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function init_select(e){var t=new MutationObserver(()=>{select_option(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),teardown(()=>{t.disconnect()})}function bind_select_value(e,t,n=t){var f=!0;listen_to_event_and_reset_event(e,"change",u=>{var i=u?"[selected]":":checked",r;if(e.multiple)r=[].map.call(e.querySelectorAll(i),get_option_value);else{var s=e.querySelector(i)??e.querySelector("option:not([disabled])");r=s&&get_option_value(s)}n(r)}),effect(()=>{var u=t();if(select_option(e,u,f),f&&u===void 0){var i=e.querySelector(":checked");i!==null&&(u=get_option_value(i),n(u))}e.__value=u,f=!1}),init_select(e)}function get_option_value(e){return"__value"in e?e.__value:e.value}function bind_value(e,t,n=t){var f=is_runes();listen_to_event_and_reset_event(e,"input",u=>{var i=u?e.defaultValue:e.value;if(i=is_numberlike_input(e)?to_number(i):i,n(i),f&&i!==(i=t())){var r=e.selectionStart,s=e.selectionEnd;e.value=i??"",s!==null&&(e.selectionStart=r,e.selectionEnd=Math.min(s,e.value.length))}}),untrack(t)==null&&e.value&&n(is_numberlike_input(e)?to_number(e.value):e.value),render_effect(()=>{var u=t();is_numberlike_input(e)&&u===to_number(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function bind_checked(e,t,n=t){listen_to_event_and_reset_event(e,"change",f=>{var u=f?e.defaultChecked:e.checked;n(u)}),untrack(t)==null&&n(e.checked),render_effect(()=>{var f=t();e.checked=!!f})}function is_numberlike_input(e){var t=e.type;return t==="number"||t==="range"}function to_number(e){return e===""?null:+e}function init(e=!1){const t=component_context,n=t.l.u;if(!n)return;let f=()=>deep_read_state(t.s);if(e){let u=0,i={};const r=derived(()=>{let s=!1;const o=t.s;for(const a in o)o[a]!==i[a]&&(i[a]=o[a],s=!0);return s&&u++,u});f=()=>get(r)}n.b.length&&user_pre_effect(()=>{observe_all(t,f),run_all(n.b)}),user_effect(()=>{const u=untrack(()=>n.m.map(run));return()=>{for(const i of u)typeof i=="function"&&i()}}),n.a.length&&user_effect(()=>{observe_all(t,f),run_all(n.a)})}function observe_all(e,t){if(e.l.s)for(const n of e.l.s)get(n);t()}let is_store_binding=!1;function capture_store_binding(e){var t=is_store_binding;try{return is_store_binding=!1,[e(),is_store_binding]}finally{is_store_binding=t}}function has_destroyed_component_ctx(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function prop(e,t,n,f){var m;var u=!legacy_mode_flag||(n&PROPS_IS_RUNES)!==0,i=(n&PROPS_IS_BINDABLE)!==0,r=(n&PROPS_IS_LAZY_INITIAL)!==0,s=f,o=!0,a=()=>(o&&(o=!1,s=r?untrack(f):f),s),h;if(i){var l=STATE_SYMBOL in e||LEGACY_PROPS in e;h=((m=get_descriptor(e,t))==null?void 0:m.set)??(l&&t in e?_=>e[t]=_:void 0)}var c,d=!1;i?[c,d]=capture_store_binding(()=>e[t]):c=e[t],c===void 0&&f!==void 0&&(c=a(),h&&(u&&props_invalid_value(),h(c)));var p;if(u?p=()=>{var _=e[t];return _===void 0?a():(o=!0,_)}:p=()=>{var _=e[t];return _!==void 0&&(s=void 0),_===void 0?s:_},u&&(n&PROPS_IS_UPDATED)===0)return p;if(h){var v=e.$$legacy;return function(_,g){return arguments.length>0?((!u||!g||v||d)&&h(g?p():_),_):p()}}var y=((n&PROPS_IS_IMMUTABLE)!==0?derived:derived_safe_equal)(p);return i&&get(y),function(_,g){if(arguments.length>0){const b=g?get(y):u&&i?proxy(_):_;return set(y,b),s!==void 0&&(s=b),_}return has_destroyed_component_ctx(y)?y.v:get(y)}}function onMount(e){component_context===null&&lifecycle_outside_component(),legacy_mode_flag&&component_context.l!==null?init_update_callbacks(component_context).m.push(e):user_effect(()=>{const t=untrack(e);if(typeof t=="function")return t})}function init_update_callbacks(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const PUBLIC_VERSION="5";var be;typeof window<"u"&&((be=window.__svelte??(window.__svelte={})).v??(be.v=new Set)).add(PUBLIC_VERSION);enable_legacy_mode_flag();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=e;function e(t,n){for(var f=new Array(arguments.length-1),u=0,i=2,r=!0;i<arguments.length;)f[u++]=arguments[i++];return new Promise(function(o,a){f[u]=function(l){if(r)if(r=!1,l)a(l);else{for(var c=new Array(arguments.length-1),d=0;d<c.length;)c[d++]=arguments[d];o.apply(null,c)}};try{t.apply(n||null,f)}catch(h){r&&(r=!1,a(h))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(e){var t=e;t.length=function(s){var o=s.length;if(!o)return 0;for(var a=0;--o%4>1&&s.charAt(o)==="=";)++a;return Math.ceil(s.length*3)/4-a};for(var n=new Array(64),f=new Array(123),u=0;u<64;)f[n[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;t.encode=function(s,o,a){for(var h=null,l=[],c=0,d=0,p;o<a;){var v=s[o++];switch(d){case 0:l[c++]=n[v>>2],p=(v&3)<<4,d=1;break;case 1:l[c++]=n[p|v>>4],p=(v&15)<<2,d=2;break;case 2:l[c++]=n[p|v>>6],l[c++]=n[v&63],d=0;break}c>8191&&((h||(h=[])).push(String.fromCharCode.apply(String,l)),c=0)}return d&&(l[c++]=n[p],l[c++]=61,d===1&&(l[c++]=61)),h?(c&&h.push(String.fromCharCode.apply(String,l.slice(0,c))),h.join("")):String.fromCharCode.apply(String,l.slice(0,c))};var i="invalid encoding";t.decode=function(s,o,a){for(var h=a,l=0,c,d=0;d<s.length;){var p=s.charCodeAt(d++);if(p===61&&l>1)break;if((p=f[p])===void 0)throw Error(i);switch(l){case 0:c=p,l=1;break;case 1:o[a++]=c<<2|(p&48)>>4,c=p,l=2;break;case 2:o[a++]=(c&15)<<4|(p&60)>>2,c=p,l=3;break;case 3:o[a++]=(c&3)<<6|p,l=0;break}}if(l===1)throw Error(i);return a-h},t.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=e;function e(){this._listeners={}}return e.prototype.on=function(n,f,u){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:f,ctx:u||this}),this},e.prototype.off=function(n,f){if(n===void 0)this._listeners={};else if(f===void 0)this._listeners[n]=[];else for(var u=this._listeners[n],i=0;i<u.length;)u[i].fn===f?u.splice(i,1):++i;return this},e.prototype.emit=function(n){var f=this._listeners[n];if(f){for(var u=[],i=1;i<arguments.length;)u.push(arguments[i++]);for(i=0;i<f.length;)f[i].fn.apply(f[i++].ctx,u)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=e(e);function e(i){return typeof Float32Array<"u"?function(){var r=new Float32Array([-0]),s=new Uint8Array(r.buffer),o=s[3]===128;function a(d,p,v){r[0]=d,p[v]=s[0],p[v+1]=s[1],p[v+2]=s[2],p[v+3]=s[3]}function h(d,p,v){r[0]=d,p[v]=s[3],p[v+1]=s[2],p[v+2]=s[1],p[v+3]=s[0]}i.writeFloatLE=o?a:h,i.writeFloatBE=o?h:a;function l(d,p){return s[0]=d[p],s[1]=d[p+1],s[2]=d[p+2],s[3]=d[p+3],r[0]}function c(d,p){return s[3]=d[p],s[2]=d[p+1],s[1]=d[p+2],s[0]=d[p+3],r[0]}i.readFloatLE=o?l:c,i.readFloatBE=o?c:l}():function(){function r(o,a,h,l){var c=a<0?1:0;if(c&&(a=-a),a===0)o(1/a>0?0:2147483648,h,l);else if(isNaN(a))o(2143289344,h,l);else if(a>34028234663852886e22)o((c<<31|2139095040)>>>0,h,l);else if(a<11754943508222875e-54)o((c<<31|Math.round(a/1401298464324817e-60))>>>0,h,l);else{var d=Math.floor(Math.log(a)/Math.LN2),p=Math.round(a*Math.pow(2,-d)*8388608)&8388607;o((c<<31|d+127<<23|p)>>>0,h,l)}}i.writeFloatLE=r.bind(null,t),i.writeFloatBE=r.bind(null,n);function s(o,a,h){var l=o(a,h),c=(l>>31)*2+1,d=l>>>23&255,p=l&8388607;return d===255?p?NaN:c*(1/0):d===0?c*1401298464324817e-60*p:c*Math.pow(2,d-150)*(p+8388608)}i.readFloatLE=s.bind(null,f),i.readFloatBE=s.bind(null,u)}(),typeof Float64Array<"u"?function(){var r=new Float64Array([-0]),s=new Uint8Array(r.buffer),o=s[7]===128;function a(d,p,v){r[0]=d,p[v]=s[0],p[v+1]=s[1],p[v+2]=s[2],p[v+3]=s[3],p[v+4]=s[4],p[v+5]=s[5],p[v+6]=s[6],p[v+7]=s[7]}function h(d,p,v){r[0]=d,p[v]=s[7],p[v+1]=s[6],p[v+2]=s[5],p[v+3]=s[4],p[v+4]=s[3],p[v+5]=s[2],p[v+6]=s[1],p[v+7]=s[0]}i.writeDoubleLE=o?a:h,i.writeDoubleBE=o?h:a;function l(d,p){return s[0]=d[p],s[1]=d[p+1],s[2]=d[p+2],s[3]=d[p+3],s[4]=d[p+4],s[5]=d[p+5],s[6]=d[p+6],s[7]=d[p+7],r[0]}function c(d,p){return s[7]=d[p],s[6]=d[p+1],s[5]=d[p+2],s[4]=d[p+3],s[3]=d[p+4],s[2]=d[p+5],s[1]=d[p+6],s[0]=d[p+7],r[0]}i.readDoubleLE=o?l:c,i.readDoubleBE=o?c:l}():function(){function r(o,a,h,l,c,d){var p=l<0?1:0;if(p&&(l=-l),l===0)o(0,c,d+a),o(1/l>0?0:2147483648,c,d+h);else if(isNaN(l))o(0,c,d+a),o(2146959360,c,d+h);else if(l>17976931348623157e292)o(0,c,d+a),o((p<<31|2146435072)>>>0,c,d+h);else{var v;if(l<22250738585072014e-324)v=l/5e-324,o(v>>>0,c,d+a),o((p<<31|v/4294967296)>>>0,c,d+h);else{var y=Math.floor(Math.log(l)/Math.LN2);y===1024&&(y=1023),v=l*Math.pow(2,-y),o(v*4503599627370496>>>0,c,d+a),o((p<<31|y+1023<<20|v*1048576&1048575)>>>0,c,d+h)}}}i.writeDoubleLE=r.bind(null,t,0,4),i.writeDoubleBE=r.bind(null,n,4,0);function s(o,a,h,l,c){var d=o(l,c+a),p=o(l,c+h),v=(p>>31)*2+1,y=p>>>20&2047,m=4294967296*(p&1048575)+d;return y===2047?m?NaN:v*(1/0):y===0?v*5e-324*m:v*Math.pow(2,y-1075)*(m+4503599627370496)}i.readDoubleLE=s.bind(null,f,0,4),i.readDoubleBE=s.bind(null,u,4,0)}(),i}function t(i,r,s){r[s]=i&255,r[s+1]=i>>>8&255,r[s+2]=i>>>16&255,r[s+3]=i>>>24}function n(i,r,s){r[s]=i>>>24,r[s+1]=i>>>16&255,r[s+2]=i>>>8&255,r[s+3]=i&255}function f(i,r){return(i[r]|i[r+1]<<8|i[r+2]<<16|i[r+3]<<24)>>>0}function u(i,r){return(i[r]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(e){var t=e;t.length=function(f){for(var u=0,i=0,r=0;r<f.length;++r)i=f.charCodeAt(r),i<128?u+=1:i<2048?u+=2:(i&64512)===55296&&(f.charCodeAt(r+1)&64512)===56320?(++r,u+=4):u+=3;return u},t.read=function(f,u,i){var r=i-u;if(r<1)return"";for(var s=null,o=[],a=0,h;u<i;)h=f[u++],h<128?o[a++]=h:h>191&&h<224?o[a++]=(h&31)<<6|f[u++]&63:h>239&&h<365?(h=((h&7)<<18|(f[u++]&63)<<12|(f[u++]&63)<<6|f[u++]&63)-65536,o[a++]=55296+(h>>10),o[a++]=56320+(h&1023)):o[a++]=(h&15)<<12|(f[u++]&63)<<6|f[u++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))},t.write=function(f,u,i){for(var r=i,s,o,a=0;a<f.length;++a)s=f.charCodeAt(a),s<128?u[i++]=s:s<2048?(u[i++]=s>>6|192,u[i++]=s&63|128):(s&64512)===55296&&((o=f.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,u[i++]=s>>18|240,u[i++]=s>>12&63|128,u[i++]=s>>6&63|128,u[i++]=s&63|128):(u[i++]=s>>12|224,u[i++]=s>>6&63|128,u[i++]=s&63|128);return i-r}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=e;function e(t,n,f){var u=f||8192,i=u>>>1,r=null,s=u;return function(a){if(a<1||a>i)return t(a);s+a>u&&(r=t(u),s=0);var h=n.call(r,s,s+=a);return s&7&&(s=(s|7)+1),h}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var e=requireMinimal();function t(i,r){this.lo=i>>>0,this.hi=r>>>0}var n=t.zero=new t(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var f=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(r){if(r===0)return n;var s=r<0;s&&(r=-r);var o=r>>>0,a=(r-o)/4294967296>>>0;return s&&(a=~a>>>0,o=~o>>>0,++o>4294967295&&(o=0,++a>4294967295&&(a=0))),new t(o,a)},t.from=function(r){if(typeof r=="number")return t.fromNumber(r);if(e.isString(r))if(e.Long)r=e.Long.fromString(r);else return t.fromNumber(parseInt(r,10));return r.low||r.high?new t(r.low>>>0,r.high>>>0):n},t.prototype.toNumber=function(r){if(!r&&this.hi>>>31){var s=~this.lo+1>>>0,o=~this.hi>>>0;return s||(o=o+1>>>0),-(s+o*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(r){return e.Long?new e.Long(this.lo|0,this.hi|0,!!r):{low:this.lo|0,high:this.hi|0,unsigned:!!r}};var u=String.prototype.charCodeAt;return t.fromHash=function(r){return r===f?n:new t((u.call(r,0)|u.call(r,1)<<8|u.call(r,2)<<16|u.call(r,3)<<24)>>>0,(u.call(r,4)|u.call(r,5)<<8|u.call(r,6)<<16|u.call(r,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^r)>>>0,this.lo=(this.lo<<1^r)>>>0,this},t.prototype.zzDecode=function(){var r=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^r)>>>0,this.hi=(this.hi>>>1^r)>>>0,this},t.prototype.length=function(){var r=this.lo,s=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?s===0?r<16384?r<128?1:2:r<2097152?3:4:s<16384?s<128?5:6:s<2097152?7:8:o<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(e){var t=e;t.asPromise=requireAspromise(),t.base64=requireBase64(),t.EventEmitter=requireEventemitter(),t.float=requireFloat(),t.inquire=requireInquire(),t.utf8=requireUtf8(),t.pool=requirePool(),t.LongBits=requireLongbits(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i},t.isString=function(i){return typeof i=="string"||i instanceof String},t.isObject=function(i){return i&&typeof i=="object"},t.isset=t.isSet=function(i,r){var s=i[r];return s!=null&&i.hasOwnProperty(r)?typeof s!="object"||(Array.isArray(s)?s.length:Object.keys(s).length)>0:!1},t.Buffer=function(){try{var u=t.inquire("buffer").Buffer;return u.prototype.utf8Write?u:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(i){return typeof i=="number"?t.Buffer?t._Buffer_allocUnsafe(i):new t.Array(i):t.Buffer?t._Buffer_from(i):typeof Uint8Array>"u"?i:new Uint8Array(i)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(i){return i?t.LongBits.from(i).toHash():t.LongBits.zeroHash},t.longFromHash=function(i,r){var s=t.LongBits.fromHash(i);return t.Long?t.Long.fromBits(s.lo,s.hi,r):s.toNumber(!!r)};function n(u,i,r){for(var s=Object.keys(i),o=0;o<s.length;++o)(u[s[o]]===void 0||!r)&&(u[s[o]]=i[s[o]]);return u}t.merge=n,t.lcFirst=function(i){return i.charAt(0).toLowerCase()+i.substring(1)};function f(u){function i(r,s){if(!(this instanceof i))return new i(r,s);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:new Error().stack||""}),s&&n(this,s)}return i.prototype=Object.create(Error.prototype,{constructor:{value:i,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return u},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),i}t.newError=f,t.ProtocolError=f("ProtocolError"),t.oneOfGetter=function(i){for(var r={},s=0;s<i.length;++s)r[i[s]]=1;return function(){for(var o=Object.keys(this),a=o.length-1;a>-1;--a)if(r[o[a]]===1&&this[o[a]]!==void 0&&this[o[a]]!==null)return o[a]}},t.oneOfSetter=function(i){return function(r){for(var s=0;s<i.length;++s)i[s]!==r&&delete this[i[s]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var u=t.Buffer;if(!u){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=u.from!==Uint8Array.from&&u.from||function(r,s){return new u(r,s)},t._Buffer_allocUnsafe=u.allocUnsafe||function(r){return new u(r)}}}(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=o;var e=requireMinimal(),t,n=e.LongBits,f=e.base64,u=e.utf8;function i(y,m,_){this.fn=y,this.len=m,this.next=void 0,this.val=_}function r(){}function s(y){this.head=y.head,this.tail=y.tail,this.len=y.len,this.next=y.states}function o(){this.len=0,this.head=new i(r,0,0),this.tail=this.head,this.states=null}var a=function(){return e.Buffer?function(){return(o.create=function(){return new t})()}:function(){return new o}};o.create=a(),o.alloc=function(m){return new e.Array(m)},e.Array!==Array&&(o.alloc=e.pool(o.alloc,e.Array.prototype.subarray)),o.prototype._push=function(m,_,g){return this.tail=this.tail.next=new i(m,_,g),this.len+=_,this};function h(y,m,_){m[_]=y&255}function l(y,m,_){for(;y>127;)m[_++]=y&127|128,y>>>=7;m[_]=y}function c(y,m){this.len=y,this.next=void 0,this.val=m}c.prototype=Object.create(i.prototype),c.prototype.fn=l,o.prototype.uint32=function(m){return this.len+=(this.tail=this.tail.next=new c((m=m>>>0)<128?1:m<16384?2:m<2097152?3:m<268435456?4:5,m)).len,this},o.prototype.int32=function(m){return m<0?this._push(d,10,n.fromNumber(m)):this.uint32(m)},o.prototype.sint32=function(m){return this.uint32((m<<1^m>>31)>>>0)};function d(y,m,_){for(;y.hi;)m[_++]=y.lo&127|128,y.lo=(y.lo>>>7|y.hi<<25)>>>0,y.hi>>>=7;for(;y.lo>127;)m[_++]=y.lo&127|128,y.lo=y.lo>>>7;m[_++]=y.lo}o.prototype.uint64=function(m){var _=n.from(m);return this._push(d,_.length(),_)},o.prototype.int64=o.prototype.uint64,o.prototype.sint64=function(m){var _=n.from(m).zzEncode();return this._push(d,_.length(),_)},o.prototype.bool=function(m){return this._push(h,1,m?1:0)};function p(y,m,_){m[_]=y&255,m[_+1]=y>>>8&255,m[_+2]=y>>>16&255,m[_+3]=y>>>24}o.prototype.fixed32=function(m){return this._push(p,4,m>>>0)},o.prototype.sfixed32=o.prototype.fixed32,o.prototype.fixed64=function(m){var _=n.from(m);return this._push(p,4,_.lo)._push(p,4,_.hi)},o.prototype.sfixed64=o.prototype.fixed64,o.prototype.float=function(m){return this._push(e.float.writeFloatLE,4,m)},o.prototype.double=function(m){return this._push(e.float.writeDoubleLE,8,m)};var v=e.Array.prototype.set?function(m,_,g){_.set(m,g)}:function(m,_,g){for(var b=0;b<m.length;++b)_[g+b]=m[b]};return o.prototype.bytes=function(m){var _=m.length>>>0;if(!_)return this._push(h,1,0);if(e.isString(m)){var g=o.alloc(_=f.length(m));f.decode(m,g,0),m=g}return this.uint32(_)._push(v,_,m)},o.prototype.string=function(m){var _=u.length(m);return _?this.uint32(_)._push(u.write,_,m):this._push(h,1,0)},o.prototype.fork=function(){return this.states=new s(this),this.head=this.tail=new i(r,0,0),this.len=0,this},o.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(r,0,0),this.len=0),this},o.prototype.ldelim=function(){var m=this.head,_=this.tail,g=this.len;return this.reset().uint32(g),g&&(this.tail.next=m.next,this.tail=_,this.len+=g),this},o.prototype.finish=function(){for(var m=this.head.next,_=this.constructor.alloc(this.len),g=0;m;)m.fn(m.val,_,g),g+=m.len,m=m.next;return _},o._configure=function(y){t=y,o.create=a(),t._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=n;var e=requireWriter();(n.prototype=Object.create(e.prototype)).constructor=n;var t=requireMinimal();function n(){e.call(this)}n._configure=function(){n.alloc=t._Buffer_allocUnsafe,n.writeBytesBuffer=t.Buffer&&t.Buffer.prototype instanceof Uint8Array&&t.Buffer.prototype.set.name==="set"?function(i,r,s){r.set(i,s)}:function(i,r,s){if(i.copy)i.copy(r,s,0,i.length);else for(var o=0;o<i.length;)r[s++]=i[o++]}},n.prototype.bytes=function(i){t.isString(i)&&(i=t._Buffer_from(i,"base64"));var r=i.length>>>0;return this.uint32(r),r&&this._push(n.writeBytesBuffer,r,i),this};function f(u,i,r){u.length<40?t.utf8.write(u,i,r):i.utf8Write?i.utf8Write(u,r):i.write(u,r)}return n.prototype.string=function(i){var r=t.Buffer.byteLength(i);return this.uint32(r),r&&this._push(f,r,i),this},n._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=i;var e=requireMinimal(),t,n=e.LongBits,f=e.utf8;function u(l,c){return RangeError("index out of range: "+l.pos+" + "+(c||1)+" > "+l.len)}function i(l){this.buf=l,this.pos=0,this.len=l.length}var r=typeof Uint8Array<"u"?function(c){if(c instanceof Uint8Array||Array.isArray(c))return new i(c);throw Error("illegal buffer")}:function(c){if(Array.isArray(c))return new i(c);throw Error("illegal buffer")},s=function(){return e.Buffer?function(d){return(i.create=function(v){return e.Buffer.isBuffer(v)?new t(v):r(v)})(d)}:r};i.create=s(),i.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,i.prototype.uint32=function(){var c=4294967295;return function(){if(c=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(c=(c|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(c=(c|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return c;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return c}}(),i.prototype.int32=function(){return this.uint32()|0},i.prototype.sint32=function(){var c=this.uint32();return c>>>1^-(c&1)|0};function o(){var l=new n(0,0),c=0;if(this.len-this.pos>4){for(;c<4;++c)if(l.lo=(l.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return l;if(l.lo=(l.lo|(this.buf[this.pos]&127)<<28)>>>0,l.hi=(l.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return l;c=0}else{for(;c<3;++c){if(this.pos>=this.len)throw u(this);if(l.lo=(l.lo|(this.buf[this.pos]&127)<<c*7)>>>0,this.buf[this.pos++]<128)return l}return l.lo=(l.lo|(this.buf[this.pos++]&127)<<c*7)>>>0,l}if(this.len-this.pos>4){for(;c<5;++c)if(l.hi=(l.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return l}else for(;c<5;++c){if(this.pos>=this.len)throw u(this);if(l.hi=(l.hi|(this.buf[this.pos]&127)<<c*7+3)>>>0,this.buf[this.pos++]<128)return l}throw Error("invalid varint encoding")}i.prototype.bool=function(){return this.uint32()!==0};function a(l,c){return(l[c-4]|l[c-3]<<8|l[c-2]<<16|l[c-1]<<24)>>>0}i.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return a(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return a(this.buf,this.pos+=4)|0};function h(){if(this.pos+8>this.len)throw u(this,8);return new n(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}return i.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var c=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,c},i.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var c=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,c},i.prototype.bytes=function(){var c=this.uint32(),d=this.pos,p=this.pos+c;if(p>this.len)throw u(this,c);if(this.pos+=c,Array.isArray(this.buf))return this.buf.slice(d,p);if(d===p){var v=e.Buffer;return v?v.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,d,p)},i.prototype.string=function(){var c=this.bytes();return f.read(c,0,c.length)},i.prototype.skip=function(c){if(typeof c=="number"){if(this.pos+c>this.len)throw u(this,c);this.pos+=c}else do if(this.pos>=this.len)throw u(this);while(this.buf[this.pos++]&128);return this},i.prototype.skipType=function(l){switch(l){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(l=this.uint32()&7)!==4;)this.skipType(l);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+l+" at offset "+this.pos)}return this},i._configure=function(l){t=l,i.create=s(),t._configure();var c=e.Long?"toLong":"toNumber";e.merge(i.prototype,{int64:function(){return o.call(this)[c](!1)},uint64:function(){return o.call(this)[c](!0)},sint64:function(){return o.call(this).zzDecode()[c](!1)},fixed64:function(){return h.call(this)[c](!0)},sfixed64:function(){return h.call(this)[c](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=n;var e=requireReader();(n.prototype=Object.create(e.prototype)).constructor=n;var t=requireMinimal();function n(f){e.call(this,f)}return n._configure=function(){t.Buffer&&(n.prototype._slice=t.Buffer.prototype.slice)},n.prototype.string=function(){var u=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+u,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+u,this.len))},n._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=t;var e=requireMinimal();(t.prototype=Object.create(e.EventEmitter.prototype)).constructor=t;function t(n,f,u){if(typeof n!="function")throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!f,this.responseDelimited=!!u}return t.prototype.rpcCall=function n(f,u,i,r,s){if(!r)throw TypeError("request must be specified");var o=this;if(!s)return e.asPromise(n,o,f,u,i,r);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(f,u[o.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(h,l){if(h)return o.emit("error",h,f),s(h);if(l===null){o.end(!0);return}if(!(l instanceof i))try{l=i[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return o.emit("error",c,f),s(c)}return o.emit("data",l,f),s(null,l)})}catch(a){o.emit("error",a,f),setTimeout(function(){s(a)},0);return}},t.prototype.end=function(f){return this.rpcImpl&&(f||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(e){var t=e;t.Service=requireService$1()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(e){var t=e;t.build="minimal",t.Writer=requireWriter(),t.BufferWriter=requireWriter_buffer(),t.Reader=requireReader(),t.BufferReader=requireReader_buffer(),t.util=requireMinimal(),t.rpc=requireRpc(),t.roots=requireRoots(),t.configure=n;function n(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}n()}(indexMinimal)),indexMinimal}var types={},util={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=e;function e(t,n){typeof t=="string"&&(n=t,t=void 0);var f=[];function u(r){if(typeof r!="string"){var s=i();if(e.verbose&&console.log("codegen: "+s),s="return "+s,r){for(var o=Object.keys(r),a=new Array(o.length+1),h=new Array(o.length),l=0;l<o.length;)a[l]=o[l],h[l]=r[o[l++]];return a[l]=s,Function.apply(null,a).apply(null,h)}return Function(s)()}for(var c=new Array(arguments.length-1),d=0;d<c.length;)c[d]=arguments[++d];if(d=0,r=r.replace(/%([%dfijs])/g,function(v,y){var m=c[d++];switch(y){case"d":case"f":return String(Number(m));case"i":return String(Math.floor(m));case"j":return JSON.stringify(m);case"s":return String(m)}return"%"}),d!==c.length)throw Error("parameter count mismatch");return f.push(r),u}function i(r){return"function "+(r||n||"")+"("+(t&&t.join(",")||"")+`){
  `+f.join(`
  `)+`
}`}return u.toString=i,u}return e.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=f;var e=requireAspromise(),t=requireInquire(),n=t("fs");function f(u,i,r){return typeof i=="function"?(r=i,i={}):i||(i={}),r?!i.xhr&&n&&n.readFile?n.readFile(u,function(o,a){return o&&typeof XMLHttpRequest<"u"?f.xhr(u,i,r):o?r(o):r(null,i.binary?a:a.toString("utf8"))}):f.xhr(u,i,r):e(f,this,u,i)}return f.xhr=function(i,r,s){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===4){if(o.status!==0&&o.status!==200)return s(Error("status "+o.status));if(r.binary){var h=o.response;if(!h){h=[];for(var l=0;l<o.responseText.length;++l)h.push(o.responseText.charCodeAt(l)&255)}return s(null,typeof Uint8Array<"u"?new Uint8Array(h):h)}return s(null,o.responseText)}},r.binary&&("overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.responseType="arraybuffer"),o.open("GET",i),o.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(e){var t=e,n=t.isAbsolute=function(i){return/^(?:\/|\w+:)/.test(i)},f=t.normalize=function(i){i=i.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=i.split("/"),s=n(i),o="";s&&(o=r.shift()+"/");for(var a=0;a<r.length;)r[a]===".."?a>0&&r[a-1]!==".."?r.splice(--a,2):s?r.splice(a,1):++a:r[a]==="."?r.splice(a,1):++a;return o+r.join("/")};t.resolve=function(i,r,s){return s||(r=f(r)),n(r)?r:(s||(i=f(i)),(i=i.replace(/(?:\/|^)[^/]+$/,"")).length?f(i+"/"+r):r)}}(path)),path}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=o;var e=requireObject();((o.prototype=Object.create(e.prototype)).constructor=o).className="Namespace";var t=requireField(),n=requireUtil(),f=requireOneof(),u,i,r;o.fromJSON=function(l,c){return new o(l,c.options).addJSON(c.nested)};function s(h,l){if(h&&h.length){for(var c={},d=0;d<h.length;++d)c[h[d].name]=h[d].toJSON(l);return c}}o.arrayToJSON=s,o.isReservedId=function(l,c){if(l){for(var d=0;d<l.length;++d)if(typeof l[d]!="string"&&l[d][0]<=c&&l[d][1]>c)return!0}return!1},o.isReservedName=function(l,c){if(l){for(var d=0;d<l.length;++d)if(l[d]===c)return!0}return!1};function o(h,l){e.call(this,h,l),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function a(h){h._nestedArray=null,h._lookupCache={};for(var l=h;l=l.parent;)l._lookupCache={};return h}return Object.defineProperty(o.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=n.toArray(this.nested))}}),o.prototype.toJSON=function(l){return n.toObject(["options",this.options,"nested",s(this.nestedArray,l)])},o.prototype.addJSON=function(l){var c=this;if(l)for(var d=Object.keys(l),p=0,v;p<d.length;++p)v=l[d[p]],c.add((v.fields!==void 0?u.fromJSON:v.values!==void 0?r.fromJSON:v.methods!==void 0?i.fromJSON:v.id!==void 0?t.fromJSON:o.fromJSON)(d[p],v));return this},o.prototype.get=function(l){return this.nested&&this.nested[l]||null},o.prototype.getEnum=function(l){if(this.nested&&this.nested[l]instanceof r)return this.nested[l].values;throw Error("no such enum: "+l)},o.prototype.add=function(l){if(!(l instanceof t&&l.extend!==void 0||l instanceof u||l instanceof f||l instanceof r||l instanceof i||l instanceof o))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var c=this.get(l.name);if(c)if(c instanceof o&&l instanceof o&&!(c instanceof u||c instanceof i)){for(var d=c.nestedArray,p=0;p<d.length;++p)l.add(d[p]);this.remove(c),this.nested||(this.nested={}),l.setOptions(c.options,!0)}else throw Error("duplicate name '"+l.name+"' in "+this)}this.nested[l.name]=l,this instanceof u||this instanceof i||this instanceof r||this instanceof t||l._edition||(l._edition=l._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var v=this;v=v.parent;)v._needsRecursiveFeatureResolution=!0,v._needsRecursiveResolve=!0;return l.onAdd(this),a(this)},o.prototype.remove=function(l){if(!(l instanceof e))throw TypeError("object must be a ReflectionObject");if(l.parent!==this)throw Error(l+" is not a member of "+this);return delete this.nested[l.name],Object.keys(this.nested).length||(this.nested=void 0),l.onRemove(this),a(this)},o.prototype.define=function(l,c){if(n.isString(l))l=l.split(".");else if(!Array.isArray(l))throw TypeError("illegal path");if(l&&l.length&&l[0]==="")throw Error("path must be relative");for(var d=this;l.length>0;){var p=l.shift();if(d.nested&&d.nested[p]){if(d=d.nested[p],!(d instanceof o))throw Error("path conflicts with non-namespace objects")}else d.add(d=new o(p))}return c&&d.addJSON(c),d},o.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var l=this.nestedArray,c=0;for(this.resolve();c<l.length;)l[c]instanceof o?l[c++].resolveAll():l[c++].resolve();return this._needsRecursiveResolve=!1,this},o.prototype._resolveFeaturesRecursive=function(l){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,l=this._edition||l,e.prototype._resolveFeaturesRecursive.call(this,l),this.nestedArray.forEach(c=>{c._resolveFeaturesRecursive(l)}),this):this},o.prototype.lookup=function(l,c,d){if(typeof c=="boolean"?(d=c,c=void 0):c&&!Array.isArray(c)&&(c=[c]),n.isString(l)&&l.length){if(l===".")return this.root;l=l.split(".")}else if(!l.length)return this;var p=l.join(".");if(l[0]==="")return this.root.lookup(l.slice(1),c);var v=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+p];if(v&&(!c||c.indexOf(v.constructor)>-1)||(v=this._lookupImpl(l,p),v&&(!c||c.indexOf(v.constructor)>-1)))return v;if(d)return null;for(var y=this;y.parent;){if(v=y.parent._lookupImpl(l,p),v&&(!c||c.indexOf(v.constructor)>-1))return v;y=y.parent}return null},o.prototype._lookupImpl=function(l,c){if(Object.prototype.hasOwnProperty.call(this._lookupCache,c))return this._lookupCache[c];var d=this.get(l[0]),p=null;if(d)l.length===1?p=d:d instanceof o&&(l=l.slice(1),p=d._lookupImpl(l,l.join(".")));else for(var v=0;v<this.nestedArray.length;++v)this._nestedArray[v]instanceof o&&(d=this._nestedArray[v]._lookupImpl(l,c))&&(p=d);return this._lookupCache[c]=p,p},o.prototype.lookupType=function(l){var c=this.lookup(l,[u]);if(!c)throw Error("no such type: "+l);return c},o.prototype.lookupEnum=function(l){var c=this.lookup(l,[r]);if(!c)throw Error("no such Enum '"+l+"' in "+this);return c},o.prototype.lookupTypeOrEnum=function(l){var c=this.lookup(l,[u,r]);if(!c)throw Error("no such Type or Enum '"+l+"' in "+this);return c},o.prototype.lookupService=function(l){var c=this.lookup(l,[i]);if(!c)throw Error("no such Service '"+l+"' in "+this);return c},o._configure=function(h,l,c){u=h,i=l,r=c},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=f;var e=requireField();((f.prototype=Object.create(e.prototype)).constructor=f).className="MapField";var t=requireTypes(),n=requireUtil();function f(u,i,r,s,o,a){if(e.call(this,u,i,s,void 0,void 0,o,a),!n.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}return f.fromJSON=function(i,r){return new f(i,r.id,r.keyType,r.type,r.options,r.comment)},f.prototype.toJSON=function(i){var r=i?!!i.keepComments:!1;return n.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])},f.prototype.resolve=function(){if(this.resolved)return this;if(t.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return e.prototype.resolve.call(this)},f.d=function(i,r,s){return typeof s=="function"?s=n.decorateType(s).name:s&&typeof s=="object"&&(s=n.decorateEnum(s).name),function(a,h){n.decorateType(a.constructor).add(new f(h,i,r,s))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=n;var e=requireObject();((n.prototype=Object.create(e.prototype)).constructor=n).className="Method";var t=requireUtil();function n(f,u,i,r,s,o,a,h,l){if(t.isObject(s)?(a=s,s=o=void 0):t.isObject(o)&&(a=o,o=void 0),!(u===void 0||t.isString(u)))throw TypeError("type must be a string");if(!t.isString(i))throw TypeError("requestType must be a string");if(!t.isString(r))throw TypeError("responseType must be a string");e.call(this,f,a),this.type=u||"rpc",this.requestType=i,this.requestStream=s?!0:void 0,this.responseType=r,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=h,this.parsedOptions=l}return n.fromJSON=function(u,i){return new n(u,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},n.prototype.toJSON=function(u){var i=u?!!u.keepComments:!1;return t.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",i?this.comment:void 0,"parsedOptions",this.parsedOptions])},n.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),e.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=u;var e=requireNamespace();((u.prototype=Object.create(e.prototype)).constructor=u).className="Service";var t=requireMethod(),n=requireUtil(),f=requireRpc();function u(r,s){e.call(this,r,s),this.methods={},this._methodsArray=null}u.fromJSON=function(s,o){var a=new u(s,o.options);if(o.methods)for(var h=Object.keys(o.methods),l=0;l<h.length;++l)a.add(t.fromJSON(h[l],o.methods[h[l]]));return o.nested&&a.addJSON(o.nested),o.edition&&(a._edition=o.edition),a.comment=o.comment,a._defaultEdition="proto3",a},u.prototype.toJSON=function(s){var o=e.prototype.toJSON.call(this,s),a=s?!!s.keepComments:!1;return n.toObject(["edition",this._editionToJSON(),"options",o&&o.options||void 0,"methods",e.arrayToJSON(this.methodsArray,s)||{},"nested",o&&o.nested||void 0,"comment",a?this.comment:void 0])},Object.defineProperty(u.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=n.toArray(this.methods))}});function i(r){return r._methodsArray=null,r}return u.prototype.get=function(s){return this.methods[s]||e.prototype.get.call(this,s)},u.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;e.prototype.resolve.call(this);for(var s=this.methodsArray,o=0;o<s.length;++o)s[o].resolve();return this},u.prototype._resolveFeaturesRecursive=function(s){return this._needsRecursiveFeatureResolution?(s=this._edition||s,e.prototype._resolveFeaturesRecursive.call(this,s),this.methodsArray.forEach(o=>{o._resolveFeaturesRecursive(s)}),this):this},u.prototype.add=function(s){if(this.get(s.name))throw Error("duplicate name '"+s.name+"' in "+this);return s instanceof t?(this.methods[s.name]=s,s.parent=this,i(this)):e.prototype.add.call(this,s)},u.prototype.remove=function(s){if(s instanceof t){if(this.methods[s.name]!==s)throw Error(s+" is not a member of "+this);return delete this.methods[s.name],s.parent=null,i(this)}return e.prototype.remove.call(this,s)},u.prototype.create=function(s,o,a){for(var h=new f.Service(s,o,a),l=0,c;l<this.methodsArray.length;++l){var d=n.lcFirst((c=this._methodsArray[l]).resolve().name).replace(/[^$\w_]/g,"");h[d]=n.codegen(["r","c"],n.isReserved(d)?d+"_":d)("return this.rpcCall(m,q,s,r,c)")({m:c,q:c.resolvedRequestType.ctor,s:c.resolvedResponseType.ctor})}return h},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=t;var e=requireMinimal();function t(n){if(n)for(var f=Object.keys(n),u=0;u<f.length;++u)this[f[u]]=n[f[u]]}return t.create=function(f){return this.$type.create(f)},t.encode=function(f,u){return this.$type.encode(f,u)},t.encodeDelimited=function(f,u){return this.$type.encodeDelimited(f,u)},t.decode=function(f){return this.$type.decode(f)},t.decodeDelimited=function(f){return this.$type.decodeDelimited(f)},t.verify=function(f){return this.$type.verify(f)},t.fromObject=function(f){return this.$type.fromObject(f)},t.toObject=function(f,u){return this.$type.toObject(f,u)},t.prototype.toJSON=function(){return this.$type.toObject(this,e.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=u;var e=require_enum(),t=requireTypes(),n=requireUtil();function f(i){return"missing required '"+i.name+"'"}function u(i){for(var r=n.codegen(["r","l","e"],i.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(i.fieldsArray.filter(function(c){return c.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),s=0;s<i.fieldsArray.length;++s){var o=i._fieldsArray[s].resolve(),a=o.resolvedType instanceof e?"int32":o.type,h="m"+n.safeProp(o.name);r("case %i: {",o.id),o.map?(r("if(%s===util.emptyObject)",h)("%s={}",h)("var c2 = r.uint32()+r.pos"),t.defaults[o.keyType]!==void 0?r("k=%j",t.defaults[o.keyType]):r("k=null"),t.defaults[a]!==void 0?r("value=%j",t.defaults[a]):r("value=null"),r("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),t.basic[a]===void 0?r("value=types[%i].decode(r,r.uint32())",s):r("value=r.%s()",a),r("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t.long[o.keyType]!==void 0?r('%s[typeof k==="object"?util.longToHash(k):k]=value',h):r("%s[k]=value",h)):o.repeated?(r("if(!(%s&&%s.length))",h,h)("%s=[]",h),t.packed[a]!==void 0&&r("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",h,a)("}else"),t.basic[a]===void 0?r(o.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",h,s):r("%s.push(r.%s())",h,a)):t.basic[a]===void 0?r(o.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",h,s):r("%s=r.%s()",h,a),r("break")("}")}for(r("default:")("r.skipType(t&7)")("break")("}")("}"),s=0;s<i._fieldsArray.length;++s){var l=i._fieldsArray[s];l.required&&r("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",f(l))}return r("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=i;var e=require_enum(),t=requireUtil();function n(r,s){return r.name+": "+s+(r.repeated&&s!=="array"?"[]":r.map&&s!=="object"?"{k:"+r.keyType+"}":"")+" expected"}function f(r,s,o,a){if(s.resolvedType)if(s.resolvedType instanceof e){r("switch(%s){",a)("default:")("return%j",n(s,"enum value"));for(var h=Object.keys(s.resolvedType.values),l=0;l<h.length;++l)r("case %i:",s.resolvedType.values[h[l]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",o,a)("if(e)")("return%j+e",s.name+".")("}");else switch(s.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",a)("return%j",n(s,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",a,a,a,a)("return%j",n(s,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',a)("return%j",n(s,"number"));break;case"bool":r('if(typeof %s!=="boolean")',a)("return%j",n(s,"boolean"));break;case"string":r("if(!util.isString(%s))",a)("return%j",n(s,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',a,a,a)("return%j",n(s,"buffer"));break}return r}function u(r,s,o){switch(s.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.key32Re.test(%s))",o)("return%j",n(s,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.key64Re.test(%s))",o)("return%j",n(s,"integer|Long key"));break;case"bool":r("if(!util.key2Re.test(%s))",o)("return%j",n(s,"boolean key"));break}return r}function i(r){var s=t.codegen(["m"],r.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),o=r.oneofsArray,a={};o.length&&s("var p={}");for(var h=0;h<r.fieldsArray.length;++h){var l=r._fieldsArray[h].resolve(),c="m"+t.safeProp(l.name);if(l.optional&&s("if(%s!=null&&m.hasOwnProperty(%j)){",c,l.name),l.map)s("if(!util.isObject(%s))",c)("return%j",n(l,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),u(s,l,"k[i]"),f(s,l,h,c+"[k[i]]")("}");else if(l.repeated)s("if(!Array.isArray(%s))",c)("return%j",n(l,"array"))("for(var i=0;i<%s.length;++i){",c),f(s,l,h,c+"[i]")("}");else{if(l.partOf){var d=t.safeProp(l.partOf.name);a[l.partOf.name]===1&&s("if(p%s===1)",d)("return%j",l.partOf.name+": multiple values"),a[l.partOf.name]=1,s("p%s=1",d)}f(s,l,h,c)}l.optional&&s("}")}return s("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(e){var t=e,n=require_enum(),f=requireUtil();function u(r,s,o,a){var h=!1;if(s.resolvedType)if(s.resolvedType instanceof n){r("switch(d%s){",a);for(var l=s.resolvedType.values,c=Object.keys(l),d=0;d<c.length;++d)l[c[d]]===s.typeDefault&&!h&&(r("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',a,a,a),s.repeated||r("break"),h=!0),r("case%j:",c[d])("case %i:",l[c[d]])("m%s=%j",a,l[c[d]])("break");r("}")}else r('if(typeof d%s!=="object")',a)("throw TypeError(%j)",s.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",a,o,a);else{var p=!1;switch(s.type){case"double":case"float":r("m%s=Number(d%s)",a,a);break;case"uint32":case"fixed32":r("m%s=d%s>>>0",a,a);break;case"int32":case"sint32":case"sfixed32":r("m%s=d%s|0",a,a);break;case"uint64":p=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",a,a,p)('else if(typeof d%s==="string")',a)("m%s=parseInt(d%s,10)",a,a)('else if(typeof d%s==="number")',a)("m%s=d%s",a,a)('else if(typeof d%s==="object")',a)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",a,a,a,p?"true":"");break;case"bytes":r('if(typeof d%s==="string")',a)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",a,a,a)("else if(d%s.length >= 0)",a)("m%s=d%s",a,a);break;case"string":r("m%s=String(d%s)",a,a);break;case"bool":r("m%s=Boolean(d%s)",a,a);break}}return r}t.fromObject=function(s){var o=s.fieldsArray,a=f.codegen(["d"],s.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!o.length)return a("return new this.ctor");a("var m=new this.ctor");for(var h=0;h<o.length;++h){var l=o[h].resolve(),c=f.safeProp(l.name);l.map?(a("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",l.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),u(a,l,h,c+"[ks[i]]")("}")("}")):l.repeated?(a("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",l.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),u(a,l,h,c+"[i]")("}")("}")):(l.resolvedType instanceof n||a("if(d%s!=null){",c),u(a,l,h,c),l.resolvedType instanceof n||a("}"))}return a("return m")};function i(r,s,o,a){if(s.resolvedType)s.resolvedType instanceof n?r("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",a,o,a,a,o,a,a):r("d%s=types[%i].toObject(m%s,o)",a,o,a);else{var h=!1;switch(s.type){case"double":case"float":r("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",a,a,a,a);break;case"uint64":h=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r('if(typeof m%s==="number")',a)("d%s=o.longs===String?String(m%s):m%s",a,a,a)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",a,a,a,a,h?"true":"",a);break;case"bytes":r("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",a,a,a,a,a);break;default:r("d%s=m%s",a,a);break}}return r}t.toObject=function(s){var o=s.fieldsArray.slice().sort(f.compareFieldsById);if(!o.length)return f.codegen()("return {}");for(var a=f.codegen(["m","o"],s.name+"$toObject")("if(!o)")("o={}")("var d={}"),h=[],l=[],c=[],d=0;d<o.length;++d)o[d].partOf||(o[d].resolve().repeated?h:o[d].map?l:c).push(o[d]);if(h.length){for(a("if(o.arrays||o.defaults){"),d=0;d<h.length;++d)a("d%s=[]",f.safeProp(h[d].name));a("}")}if(l.length){for(a("if(o.objects||o.defaults){"),d=0;d<l.length;++d)a("d%s={}",f.safeProp(l[d].name));a("}")}if(c.length){for(a("if(o.defaults){"),d=0;d<c.length;++d){var p=c[d],v=f.safeProp(p.name);if(p.resolvedType instanceof n)a("d%s=o.enums===String?%j:%j",v,p.resolvedType.valuesById[p.typeDefault],p.typeDefault);else if(p.long)a("if(util.Long){")("var n=new util.Long(%i,%i,%j)",p.typeDefault.low,p.typeDefault.high,p.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",v)("}else")("d%s=o.longs===String?%j:%i",v,p.typeDefault.toString(),p.typeDefault.toNumber());else if(p.bytes){var y="["+Array.prototype.slice.call(p.typeDefault).join(",")+"]";a("if(o.bytes===String)d%s=%j",v,String.fromCharCode.apply(String,p.typeDefault))("else{")("d%s=%s",v,y)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",v,v)("}")}else a("d%s=%j",v,p.typeDefault)}a("}")}var m=!1;for(d=0;d<o.length;++d){var p=o[d],_=s._fieldsArray.indexOf(p),v=f.safeProp(p.name);p.map?(m||(m=!0,a("var ks2")),a("if(m%s&&(ks2=Object.keys(m%s)).length){",v,v)("d%s={}",v)("for(var j=0;j<ks2.length;++j){"),i(a,p,_,v+"[ks2[j]]")("}")):p.repeated?(a("if(m%s&&m%s.length){",v,v)("d%s=[]",v)("for(var j=0;j<m%s.length;++j){",v),i(a,p,_,v+"[j]")("}")):(a("if(m%s!=null&&m.hasOwnProperty(%j)){",v,p.name),i(a,p,_,v),p.partOf&&a("if(o.oneofs)")("d%s=%j",f.safeProp(p.partOf.name),p.name)),a("}")}return a("return d")}}(converter)),converter}var wrappers={},hasRequiredWrappers;function requireWrappers(){return hasRequiredWrappers||(hasRequiredWrappers=1,function(e){var t=e,n=requireMessage();t[".google.protobuf.Any"]={fromObject:function(f){if(f&&f["@type"]){var u=f["@type"].substring(f["@type"].lastIndexOf("/")+1),i=this.lookup(u);if(i){var r=f["@type"].charAt(0)==="."?f["@type"].slice(1):f["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:i.encode(i.fromObject(f)).finish()})}}return this.fromObject(f)},toObject:function(f,u){var i="type.googleapis.com/",r="",s="";if(u&&u.json&&f.type_url&&f.value){s=f.type_url.substring(f.type_url.lastIndexOf("/")+1),r=f.type_url.substring(0,f.type_url.lastIndexOf("/")+1);var o=this.lookup(s);o&&(f=o.decode(f.value))}if(!(f instanceof this.ctor)&&f instanceof n){var a=f.$type.toObject(f,u),h=f.$type.fullName[0]==="."?f.$type.fullName.slice(1):f.$type.fullName;return r===""&&(r=i),s=r+h,a["@type"]=s,a}return this.toObject(f,u)}}}(wrappers)),wrappers}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=v;var e=requireNamespace();((v.prototype=Object.create(e.prototype)).constructor=v).className="Type";var t=require_enum(),n=requireOneof(),f=requireField(),u=requireMapfield(),i=requireService(),r=requireMessage(),s=requireReader(),o=requireWriter(),a=requireUtil(),h=requireEncoder(),l=requireDecoder(),c=requireVerifier(),d=requireConverter(),p=requireWrappers();function v(m,_){e.call(this,m,_),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var m=Object.keys(this.fields),_=0;_<m.length;++_){var g=this.fields[m[_]],b=g.id;if(this._fieldsById[b])throw Error("duplicate id "+b+" in "+this);this._fieldsById[b]=g}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=a.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=a.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(m){var _=m.prototype;_ instanceof r||((m.prototype=new r).constructor=m,a.merge(m.prototype,_)),m.$type=m.prototype.$type=this,a.merge(m,r,!0),this._ctor=m;for(var g=0;g<this.fieldsArray.length;++g)this._fieldsArray[g].resolve();var b={};for(g=0;g<this.oneofsArray.length;++g)b[this._oneofsArray[g].resolve().name]={get:a.oneOfGetter(this._oneofsArray[g].oneof),set:a.oneOfSetter(this._oneofsArray[g].oneof)};g&&Object.defineProperties(m.prototype,b)}}}),v.generateConstructor=function(_){for(var g=a.codegen(["p"],_.name),b=0,A;b<_.fieldsArray.length;++b)(A=_._fieldsArray[b]).map?g("this%s={}",a.safeProp(A.name)):A.repeated&&g("this%s=[]",a.safeProp(A.name));return g("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function y(m){return m._fieldsById=m._fieldsArray=m._oneofsArray=null,delete m.encode,delete m.decode,delete m.verify,m}return v.fromJSON=function(_,g){var b=new v(_,g.options);b.extensions=g.extensions,b.reserved=g.reserved;for(var A=Object.keys(g.fields),R=0;R<A.length;++R)b.add((typeof g.fields[A[R]].keyType<"u"?u.fromJSON:f.fromJSON)(A[R],g.fields[A[R]]));if(g.oneofs)for(A=Object.keys(g.oneofs),R=0;R<A.length;++R)b.add(n.fromJSON(A[R],g.oneofs[A[R]]));if(g.nested)for(A=Object.keys(g.nested),R=0;R<A.length;++R){var P=g.nested[A[R]];b.add((P.id!==void 0?f.fromJSON:P.fields!==void 0?v.fromJSON:P.values!==void 0?t.fromJSON:P.methods!==void 0?i.fromJSON:e.fromJSON)(A[R],P))}return g.extensions&&g.extensions.length&&(b.extensions=g.extensions),g.reserved&&g.reserved.length&&(b.reserved=g.reserved),g.group&&(b.group=!0),g.comment&&(b.comment=g.comment),g.edition&&(b._edition=g.edition),b._defaultEdition="proto3",b},v.prototype.toJSON=function(_){var g=e.prototype.toJSON.call(this,_),b=_?!!_.keepComments:!1;return a.toObject(["edition",this._editionToJSON(),"options",g&&g.options||void 0,"oneofs",e.arrayToJSON(this.oneofsArray,_),"fields",e.arrayToJSON(this.fieldsArray.filter(function(A){return!A.declaringField}),_)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",g&&g.nested||void 0,"comment",b?this.comment:void 0])},v.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;e.prototype.resolveAll.call(this);var _=this.oneofsArray;for(b=0;b<_.length;)_[b++].resolve();for(var g=this.fieldsArray,b=0;b<g.length;)g[b++].resolve();return this},v.prototype._resolveFeaturesRecursive=function(_){return this._needsRecursiveFeatureResolution?(_=this._edition||_,e.prototype._resolveFeaturesRecursive.call(this,_),this.oneofsArray.forEach(g=>{g._resolveFeatures(_)}),this.fieldsArray.forEach(g=>{g._resolveFeatures(_)}),this):this},v.prototype.get=function(_){return this.fields[_]||this.oneofs&&this.oneofs[_]||this.nested&&this.nested[_]||null},v.prototype.add=function(_){if(this.get(_.name))throw Error("duplicate name '"+_.name+"' in "+this);if(_ instanceof f&&_.extend===void 0){if(this._fieldsById?this._fieldsById[_.id]:this.fieldsById[_.id])throw Error("duplicate id "+_.id+" in "+this);if(this.isReservedId(_.id))throw Error("id "+_.id+" is reserved in "+this);if(this.isReservedName(_.name))throw Error("name '"+_.name+"' is reserved in "+this);return _.parent&&_.parent.remove(_),this.fields[_.name]=_,_.message=this,_.onAdd(this),y(this)}return _ instanceof n?(this.oneofs||(this.oneofs={}),this.oneofs[_.name]=_,_.onAdd(this),y(this)):e.prototype.add.call(this,_)},v.prototype.remove=function(_){if(_ instanceof f&&_.extend===void 0){if(!this.fields||this.fields[_.name]!==_)throw Error(_+" is not a member of "+this);return delete this.fields[_.name],_.parent=null,_.onRemove(this),y(this)}if(_ instanceof n){if(!this.oneofs||this.oneofs[_.name]!==_)throw Error(_+" is not a member of "+this);return delete this.oneofs[_.name],_.parent=null,_.onRemove(this),y(this)}return e.prototype.remove.call(this,_)},v.prototype.isReservedId=function(_){return e.isReservedId(this.reserved,_)},v.prototype.isReservedName=function(_){return e.isReservedName(this.reserved,_)},v.prototype.create=function(_){return new this.ctor(_)},v.prototype.setup=function(){for(var _=this.fullName,g=[],b=0;b<this.fieldsArray.length;++b)g.push(this._fieldsArray[b].resolve().resolvedType);this.encode=h(this)({Writer:o,types:g,util:a}),this.decode=l(this)({Reader:s,types:g,util:a}),this.verify=c(this)({types:g,util:a}),this.fromObject=d.fromObject(this)({types:g,util:a}),this.toObject=d.toObject(this)({types:g,util:a});var A=p[_];if(A){var R=Object.create(this);R.fromObject=this.fromObject,this.fromObject=A.fromObject.bind(R),R.toObject=this.toObject,this.toObject=A.toObject.bind(R)}return this},v.prototype.encode=function(_,g){return this.setup().encode(_,g)},v.prototype.encodeDelimited=function(_,g){return this.encode(_,g&&g.len?g.fork():g).ldelim()},v.prototype.decode=function(_,g){return this.setup().decode(_,g)},v.prototype.decodeDelimited=function(_){return _ instanceof s||(_=s.create(_)),this.decode(_,_.uint32())},v.prototype.verify=function(_){return this.setup().verify(_)},v.prototype.fromObject=function(_){return this.setup().fromObject(_)},v.prototype.toObject=function(_,g){return this.setup().toObject(_,g)},v.d=function(_){return function(b){a.decorateType(b,_)}},type}var root$3,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root$3;hasRequiredRoot=1,root$3=o;var e=requireNamespace();((o.prototype=Object.create(e.prototype)).constructor=o).className="Root";var t=requireField(),n=require_enum(),f=requireOneof(),u=requireUtil(),i,r,s;function o(c){e.call(this,"",c),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}o.fromJSON=function(d,p){return p||(p=new o),d.options&&p.setOptions(d.options),p.addJSON(d.nested).resolveAll()},o.prototype.resolvePath=u.path.resolve,o.prototype.fetch=u.fetch;function a(){}o.prototype.load=function c(d,p,v){typeof p=="function"&&(v=p,p=void 0);var y=this;if(!v)return u.asPromise(c,y,d,p);var m=v===a;function _(D,L){if(v){if(m)throw D;L&&L.resolveAll();var x=v;v=null,x(D,L)}}function g(D){var L=D.lastIndexOf("google/protobuf/");if(L>-1){var x=D.substring(L);if(x in s)return x}return null}function b(D,L){try{if(u.isString(L)&&L.charAt(0)==="{"&&(L=JSON.parse(L)),!u.isString(L))y.setOptions(L.options).addJSON(L.nested);else{r.filename=D;var x=r(L,y,p),H,W=0;if(x.imports)for(;W<x.imports.length;++W)(H=g(x.imports[W])||y.resolvePath(D,x.imports[W]))&&A(H);if(x.weakImports)for(W=0;W<x.weakImports.length;++W)(H=g(x.weakImports[W])||y.resolvePath(D,x.weakImports[W]))&&A(H,!0)}}catch(q){_(q)}!m&&!R&&_(null,y)}function A(D,L){if(D=g(D)||D,!(y.files.indexOf(D)>-1)){if(y.files.push(D),D in s){m?b(D,s[D]):(++R,setTimeout(function(){--R,b(D,s[D])}));return}if(m){var x;try{x=u.fs.readFileSync(D).toString("utf8")}catch(H){L||_(H);return}b(D,x)}else++R,y.fetch(D,function(H,W){if(--R,!!v){if(H){L?R||_(null,y):_(H);return}b(D,W)}})}}var R=0;u.isString(d)&&(d=[d]);for(var P=0,$;P<d.length;++P)($=y.resolvePath("",d[P]))&&A($);return m?(y.resolveAll(),y):(R||_(null,y),y)},o.prototype.loadSync=function(d,p){if(!u.isNode)throw Error("not supported");return this.load(d,p,a)},o.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(d){return"'extend "+d.extend+"' in "+d.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function l(c,d){var p=d.parent.lookup(d.extend);if(p){var v=new t(d.fullName,d.id,d.type,d.rule,void 0,d.options);return p.get(v.name)||(v.declaringField=d,d.extensionField=v,p.add(v)),!0}return!1}return o.prototype._handleAdd=function(d){if(d instanceof t)d.extend!==void 0&&!d.extensionField&&(l(this,d)||this.deferred.push(d));else if(d instanceof n)h.test(d.name)&&(d.parent[d.name]=d.values);else if(!(d instanceof f)){if(d instanceof i)for(var p=0;p<this.deferred.length;)l(this,this.deferred[p])?this.deferred.splice(p,1):++p;for(var v=0;v<d.nestedArray.length;++v)this._handleAdd(d._nestedArray[v]);h.test(d.name)&&(d.parent[d.name]=d)}(d instanceof i||d instanceof n||d instanceof t)&&(this._fullyQualifiedObjects[d.fullName]=d)},o.prototype._handleRemove=function(d){if(d instanceof t){if(d.extend!==void 0)if(d.extensionField)d.extensionField.parent.remove(d.extensionField),d.extensionField=null;else{var p=this.deferred.indexOf(d);p>-1&&this.deferred.splice(p,1)}}else if(d instanceof n)h.test(d.name)&&delete d.parent[d.name];else if(d instanceof e){for(var v=0;v<d.nestedArray.length;++v)this._handleRemove(d._nestedArray[v]);h.test(d.name)&&delete d.parent[d.name]}delete this._fullyQualifiedObjects[d.fullName]},o._configure=function(c,d,p){i=c,r=d,s=p},root$3}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util.exports;hasRequiredUtil=1;var e=util.exports=requireMinimal(),t=requireRoots(),n,f;e.codegen=requireCodegen(),e.fetch=requireFetch(),e.path=requirePath(),e.fs=e.inquire("fs"),e.toArray=function(a){if(a){for(var h=Object.keys(a),l=new Array(h.length),c=0;c<h.length;)l[c]=a[h[c++]];return l}return[]},e.toObject=function(a){for(var h={},l=0;l<a.length;){var c=a[l++],d=a[l++];d!==void 0&&(h[c]=d)}return h};var u=/\\/g,i=/"/g;e.isReserved=function(a){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(a)},e.safeProp=function(a){return!/^[$\w_]+$/.test(a)||e.isReserved(a)?'["'+a.replace(u,"\\\\").replace(i,'\\"')+'"]':"."+a},e.ucFirst=function(a){return a.charAt(0).toUpperCase()+a.substring(1)};var r=/_([a-z])/g;e.camelCase=function(a){return a.substring(0,1)+a.substring(1).replace(r,function(h,l){return l.toUpperCase()})},e.compareFieldsById=function(a,h){return a.id-h.id},e.decorateType=function(a,h){if(a.$type)return h&&a.$type.name!==h&&(e.decorateRoot.remove(a.$type),a.$type.name=h,e.decorateRoot.add(a.$type)),a.$type;n||(n=requireType());var l=new n(h||a.name);return e.decorateRoot.add(l),l.ctor=a,Object.defineProperty(a,"$type",{value:l,enumerable:!1}),Object.defineProperty(a.prototype,"$type",{value:l,enumerable:!1}),l};var s=0;return e.decorateEnum=function(a){if(a.$type)return a.$type;f||(f=require_enum());var h=new f("Enum"+s++,a);return e.decorateRoot.add(h),Object.defineProperty(a,"$type",{value:h,enumerable:!1}),h},e.setProperty=function(a,h,l,c){function d(p,v,y){var m=v.shift();if(m==="__proto__"||m==="prototype")return p;if(v.length>0)p[m]=d(p[m]||{},v,y);else{var _=p[m];if(_&&c)return p;_&&(y=[].concat(_).concat(y)),p[m]=y}return p}if(typeof a!="object")throw TypeError("dst must be an object");if(!h)throw TypeError("path must be specified");return h=h.split("."),d(a,h,l)},Object.defineProperty(e,"decorateRoot",{get:function(){return t.decorated||(t.decorated=new(requireRoot()))}}),util.exports}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(e){var t=e,n=requireUtil(),f=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function u(i,r){var s=0,o={};for(r|=0;s<i.length;)o[f[s+r]]=i[s++];return o}t.basic=u([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),t.defaults=u([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),t.long=u([0,0,0,1,1],7),t.mapKey=u([0,0,0,5,5,0,0,0,1,1,0,2],2),t.packed=u([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=r;var e=requireObject();((r.prototype=Object.create(e.prototype)).constructor=r).className="Field";var t=require_enum(),n=requireTypes(),f=requireUtil(),u,i=/^required|optional|repeated$/;r.fromJSON=function(o,a){var h=new r(o,a.id,a.type,a.rule,a.extend,a.options,a.comment);return a.edition&&(h._edition=a.edition),h._defaultEdition="proto3",h};function r(s,o,a,h,l,c,d){if(f.isObject(h)?(d=l,c=h,h=l=void 0):f.isObject(l)&&(d=c,c=l,l=void 0),e.call(this,s,c),!f.isInteger(o)||o<0)throw TypeError("id must be a non-negative integer");if(!f.isString(a))throw TypeError("type must be a string");if(h!==void 0&&!i.test(h=h.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(l!==void 0&&!f.isString(l))throw TypeError("extend must be a string");h==="proto3_optional"&&(h="optional"),this.rule=h&&h!=="optional"?h:void 0,this.type=a,this.id=o,this.extend=l||void 0,this.repeated=h==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=f.Long?n.long[a]!==void 0:!1,this.bytes=a==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=d}return Object.defineProperty(r.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(r.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(r.prototype,"delimited",{get:function(){return this.resolvedType instanceof u&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(r.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(r.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),r.prototype.setOption=function(o,a,h){return e.prototype.setOption.call(this,o,a,h)},r.prototype.toJSON=function(o){var a=o?!!o.keepComments:!1;return f.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",a?this.comment:void 0])},r.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=n.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof u?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof t&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof t)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=f.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var o;f.base64.test(this.typeDefault)?f.base64.decode(this.typeDefault,o=f.newBuffer(f.base64.length(this.typeDefault)),0):f.utf8.write(this.typeDefault,o=f.newBuffer(f.utf8.length(this.typeDefault)),0),this.typeDefault=o}return this.map?this.defaultValue=f.emptyObject:this.repeated?this.defaultValue=f.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof u&&(this.parent.ctor.prototype[this.name]=this.defaultValue),e.prototype.resolve.call(this)},r.prototype._inferLegacyProtoFeatures=function(o){if(o!=="proto2"&&o!=="proto3")return{};var a={};if(this.rule==="required"&&(a.field_presence="LEGACY_REQUIRED"),this.parent&&n.defaults[this.type]===void 0){var h=this.parent.get(this.type.split(".").pop());h&&h instanceof u&&h.group&&(a.message_encoding="DELIMITED")}return this.getOption("packed")===!0?a.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(a.repeated_field_encoding="EXPANDED"),a},r.prototype._resolveFeatures=function(o){return e.prototype._resolveFeatures.call(this,this._edition||o)},r.d=function(o,a,h,l){return typeof a=="function"?a=f.decorateType(a).name:a&&typeof a=="object"&&(a=f.decorateEnum(a).name),function(d,p){f.decorateType(d.constructor).add(new r(p,o,a,h,{default:l}))}},r._configure=function(o){u=o},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=f;var e=requireObject();((f.prototype=Object.create(e.prototype)).constructor=f).className="OneOf";var t=requireField(),n=requireUtil();function f(i,r,s,o){if(Array.isArray(r)||(s=r,r=void 0),e.call(this,i,s),!(r===void 0||Array.isArray(r)))throw TypeError("fieldNames must be an Array");this.oneof=r||[],this.fieldsArray=[],this.comment=o}f.fromJSON=function(r,s){return new f(r,s.oneof,s.options,s.comment)},f.prototype.toJSON=function(r){var s=r?!!r.keepComments:!1;return n.toObject(["options",this.options,"oneof",this.oneof,"comment",s?this.comment:void 0])};function u(i){if(i.parent)for(var r=0;r<i.fieldsArray.length;++r)i.fieldsArray[r].parent||i.parent.add(i.fieldsArray[r])}return f.prototype.add=function(r){if(!(r instanceof t))throw TypeError("field must be a Field");return r.parent&&r.parent!==this.parent&&r.parent.remove(r),this.oneof.push(r.name),this.fieldsArray.push(r),r.partOf=this,u(this),this},f.prototype.remove=function(r){if(!(r instanceof t))throw TypeError("field must be a Field");var s=this.fieldsArray.indexOf(r);if(s<0)throw Error(r+" is not a member of "+this);return this.fieldsArray.splice(s,1),s=this.oneof.indexOf(r.name),s>-1&&this.oneof.splice(s,1),r.partOf=null,this},f.prototype.onAdd=function(r){e.prototype.onAdd.call(this,r);for(var s=this,o=0;o<this.oneof.length;++o){var a=r.get(this.oneof[o]);a&&!a.partOf&&(a.partOf=s,s.fieldsArray.push(a))}u(this)},f.prototype.onRemove=function(r){for(var s=0,o;s<this.fieldsArray.length;++s)(o=this.fieldsArray[s]).parent&&o.parent.remove(o);e.prototype.onRemove.call(this,r)},Object.defineProperty(f.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var i=this.fieldsArray[0];return i.options!=null&&i.options.proto3_optional===!0}}),f.d=function(){for(var r=new Array(arguments.length),s=0;s<arguments.length;)r[s]=arguments[s++];return function(a,h){n.decorateType(a.constructor).add(new f(h,r)),Object.defineProperty(a,h,{get:n.oneOfGetter(r),set:n.oneOfSetter(r)})}},oneof}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=r,r.className="ReflectionObject";const e=requireOneof();var t=requireUtil(),n,f={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},u={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},i={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function r(s,o){if(!t.isString(s))throw TypeError("name must be a string");if(o&&!t.isObject(o))throw TypeError("options must be an object");this.options=o,this.parsedOptions=null,this.name=s,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(r.prototype,{root:{get:function(){for(var s=this;s.parent!==null;)s=s.parent;return s}},fullName:{get:function(){for(var s=[this.name],o=this.parent;o;)s.unshift(o.name),o=o.parent;return s.join(".")}}}),r.prototype.toJSON=function(){throw Error()},r.prototype.onAdd=function(o){this.parent&&this.parent!==o&&this.parent.remove(this),this.parent=o,this.resolved=!1;var a=o.root;a instanceof n&&a._handleAdd(this)},r.prototype.onRemove=function(o){var a=o.root;a instanceof n&&a._handleRemove(this),this.parent=null,this.resolved=!1},r.prototype.resolve=function(){return this.resolved?this:(this.root instanceof n&&(this.resolved=!0),this)},r.prototype._resolveFeaturesRecursive=function(o){return this._resolveFeatures(this._edition||o)},r.prototype._resolveFeatures=function(o){if(!this._featuresResolved){var a={};if(!o)throw new Error("Unknown edition for "+this.fullName);var h=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(o));if(this._edition){if(o==="proto2")a=Object.assign({},u);else if(o==="proto3")a=Object.assign({},i);else if(o==="2023")a=Object.assign({},f);else throw new Error("Unknown edition: "+o);this._features=Object.assign(a,h||{}),this._featuresResolved=!0;return}if(this.partOf instanceof e){var l=Object.assign({},this.partOf._features);this._features=Object.assign(l,h||{})}else if(!this.declaringField)if(this.parent){var c=Object.assign({},this.parent._features);this._features=Object.assign(c,h||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},r.prototype._inferLegacyProtoFeatures=function(){return{}},r.prototype.getOption=function(o){if(this.options)return this.options[o]},r.prototype.setOption=function(o,a,h){return this.options||(this.options={}),/^features\./.test(o)?t.setProperty(this.options,o,a,h):(!h||this.options[o]===void 0)&&(this.getOption(o)!==a&&(this.resolved=!1),this.options[o]=a),this},r.prototype.setParsedOption=function(o,a,h){this.parsedOptions||(this.parsedOptions=[]);var l=this.parsedOptions;if(h){var c=l.find(function(v){return Object.prototype.hasOwnProperty.call(v,o)});if(c){var d=c[o];t.setProperty(d,h,a)}else c={},c[o]=t.setProperty({},h,a),l.push(c)}else{var p={};p[o]=a,l.push(p)}return this},r.prototype.setOptions=function(o,a){if(o)for(var h=Object.keys(o),l=0;l<h.length;++l)this.setOption(h[l],o[h[l]],a);return this},r.prototype.toString=function(){var o=this.constructor.className,a=this.fullName;return a.length?o+" "+a:o},r.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},r._configure=function(s){n=s},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=f;var e=requireObject();((f.prototype=Object.create(e.prototype)).constructor=f).className="Enum";var t=requireNamespace(),n=requireUtil();function f(u,i,r,s,o,a){if(e.call(this,u,r),i&&typeof i!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=s,this.comments=o||{},this.valuesOptions=a,this._valuesFeatures={},this.reserved=void 0,i)for(var h=Object.keys(i),l=0;l<h.length;++l)typeof i[h[l]]=="number"&&(this.valuesById[this.values[h[l]]=i[h[l]]]=h[l])}return f.prototype._resolveFeatures=function(i){return i=this._edition||i,e.prototype._resolveFeatures.call(this,i),Object.keys(this.values).forEach(r=>{var s=Object.assign({},this._features);this._valuesFeatures[r]=Object.assign(s,this.valuesOptions&&this.valuesOptions[r]&&this.valuesOptions[r].features)}),this},f.fromJSON=function(i,r){var s=new f(i,r.values,r.options,r.comment,r.comments);return s.reserved=r.reserved,r.edition&&(s._edition=r.edition),s._defaultEdition="proto3",s},f.prototype.toJSON=function(i){var r=i?!!i.keepComments:!1;return n.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])},f.prototype.add=function(i,r,s,o){if(!n.isString(i))throw TypeError("name must be a string");if(!n.isInteger(r))throw TypeError("id must be an integer");if(this.values[i]!==void 0)throw Error("duplicate name '"+i+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(i))throw Error("name '"+i+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[i]=r}else this.valuesById[this.values[i]=r]=i;return o&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[i]=o||null),this.comments[i]=s||null,this},f.prototype.remove=function(i){if(!n.isString(i))throw TypeError("name must be a string");var r=this.values[i];if(r==null)throw Error("name '"+i+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[i],delete this.comments[i],this.valuesOptions&&delete this.valuesOptions[i],this},f.prototype.isReservedId=function(i){return t.isReservedId(this.reserved,i)},f.prototype.isReservedName=function(i){return t.isReservedName(this.reserved,i)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=u;var e=require_enum(),t=requireTypes(),n=requireUtil();function f(i,r,s,o){return r.delimited?i("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",s,o,(r.id<<3|3)>>>0,(r.id<<3|4)>>>0):i("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",s,o,(r.id<<3|2)>>>0)}function u(i){for(var r=n.codegen(["m","w"],i.name+"$encode")("if(!w)")("w=Writer.create()"),s,o,a=i.fieldsArray.slice().sort(n.compareFieldsById),s=0;s<a.length;++s){var h=a[s].resolve(),l=i._fieldsArray.indexOf(h),c=h.resolvedType instanceof e?"int32":h.type,d=t.basic[c];o="m"+n.safeProp(h.name),h.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,h.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(h.id<<3|2)>>>0,8|t.mapKey[h.keyType],h.keyType),d===void 0?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,o):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,c,o),r("}")("}")):h.repeated?(r("if(%s!=null&&%s.length){",o,o),h.packed&&t.packed[c]!==void 0?r("w.uint32(%i).fork()",(h.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",c,o)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",o),d===void 0?f(r,h,l,o+"[i]"):r("w.uint32(%i).%s(%s[i])",(h.id<<3|d)>>>0,c,o)),r("}")):(h.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,h.name),d===void 0?f(r,h,l,o):r("w.uint32(%i).%s(%s)",(h.id<<3|d)>>>0,c,o))}return r("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var e=indexLight.exports=requireIndexMinimal();e.build="light";function t(f,u,i){return typeof u=="function"?(i=u,u=new e.Root):u||(u=new e.Root),u.load(f,i)}e.load=t;function n(f,u){return u||(u=new e.Root),u.loadSync(f)}return e.loadSync=n,e.encoder=requireEncoder(),e.decoder=requireDecoder(),e.verifier=requireVerifier(),e.converter=requireConverter(),e.ReflectionObject=requireObject(),e.Namespace=requireNamespace(),e.Root=requireRoot(),e.Enum=require_enum(),e.Type=requireType(),e.Field=requireField(),e.OneOf=requireOneof(),e.MapField=requireMapfield(),e.Service=requireService(),e.Method=requireMethod(),e.Message=requireMessage(),e.wrappers=requireWrappers(),e.types=requireTypes(),e.util=requireUtil(),e.ReflectionObject._configure(e.Root),e.Namespace._configure(e.Type,e.Service,e.Enum),e.Root._configure(e.Type),e.Field._configure(e.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=h;var e=/[\s{}=;:[\],'"()<>]/g,t=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,f=/^ *[*/]+ */,u=/^\s*\*?\/*/,i=/\n/g,r=/\s/,s=/\\(.?)/g,o={0:"\0",r:"\r",n:`
`,t:"	"};function a(l){return l.replace(s,function(c,d){switch(d){case"\\":case"":return d;default:return o[d]||""}})}h.unescape=a;function h(l,c){l=l.toString();var d=0,p=l.length,v=1,y=0,m={},_=[],g=null;function b(F){return Error("illegal "+F+" (line "+v+")")}function A(){var F=g==="'"?n:t;F.lastIndex=d-1;var B=F.exec(l);if(!B)throw b("string");return d=F.lastIndex,x(g),g=null,a(B[1])}function R(F){return l.charAt(F)}function P(F,B,C){var J={type:l.charAt(F++),lineEmpty:!1,leading:C},Y;c?Y=2:Y=3;var j=F-Y,z;do if(--j<0||(z=l.charAt(j))===`
`){J.lineEmpty=!0;break}while(z===" "||z==="	");for(var S=l.substring(F,B).split(i),T=0;T<S.length;++T)S[T]=S[T].replace(c?u:f,"").trim();J.text=S.join(`
`).trim(),m[v]=J,y=v}function $(F){var B=D(F),C=l.substring(F,B),J=/^\s*\/\//.test(C);return J}function D(F){for(var B=F;B<p&&R(B)!==`
`;)B++;return B}function L(){if(_.length>0)return _.shift();if(g)return A();var F,B,C,J,Y,j=d===0;do{if(d===p)return null;for(F=!1;r.test(C=R(d));)if(C===`
`&&(j=!0,++v),++d===p)return null;if(R(d)==="/"){if(++d===p)throw b("comment");if(R(d)==="/")if(c){if(J=d,Y=!1,$(d-1)){Y=!0;do if(d=D(d),d===p||(d++,!j))break;while($(d))}else d=Math.min(p,D(d)+1);Y&&(P(J,d,j),j=!0),v++,F=!0}else{for(Y=R(J=d+1)==="/";R(++d)!==`
`;)if(d===p)return null;++d,Y&&(P(J,d-1,j),j=!0),++v,F=!0}else if((C=R(d))==="*"){J=d+1,Y=c||R(J)==="*";do{if(C===`
`&&++v,++d===p)throw b("comment");B=C,C=R(d)}while(B!=="*"||C!=="/");++d,Y&&(P(J,d-2,j),j=!0),F=!0}else return"/"}}while(F);var z=d;e.lastIndex=0;var S=e.test(R(z++));if(!S)for(;z<p&&!e.test(R(z));)++z;var T=l.substring(d,d=z);return(T==='"'||T==="'")&&(g=T),T}function x(F){_.push(F)}function H(){if(!_.length){var F=L();if(F===null)return null;x(F)}return _[0]}function W(F,B){var C=H(),J=C===F;if(J)return L(),!0;if(!B)throw b("token '"+C+"', '"+F+"' expected");return!1}function q(F){var B=null,C;return F===void 0?(C=m[v-1],delete m[v-1],C&&(c||C.type==="*"||C.lineEmpty)&&(B=C.leading?C.text:null)):(y<F&&H(),C=m[F],delete m[F],C&&!C.lineEmpty&&(c||C.type==="/")&&(B=C.leading?null:C.text)),B}return Object.defineProperty({next:L,peek:H,push:x,skip:W,cmnt:q},"line",{get:function(){return v}})}return tokenize_1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1,parse_1=A,A.filename=null,A.defaults={keepCase:!1};var e=requireTokenize(),t=requireRoot(),n=requireType(),f=requireField(),u=requireMapfield(),i=requireOneof(),r=require_enum(),s=requireService(),o=requireMethod(),a=requireObject(),h=requireTypes(),l=requireUtil(),c=/^[1-9][0-9]*$/,d=/^-?[1-9][0-9]*$/,p=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,m=/^-?0[0-7]+$/,_=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,g=/^[a-zA-Z_][a-zA-Z_0-9]*$/,b=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function A(R,P,$){P instanceof t||($=P,P=new t),$||($=A.defaults);var D=$.preferTrailingComment||!1,L=e(R,$.alternateCommentMode||!1),x=L.next,H=L.push,W=L.peek,q=L.skip,F=L.cmnt,B=!0,C,J,Y,j="proto2",z=P,S=[],T={},M=$.keepCase?function(E){return E}:l.camelCase;function ie(){S.forEach(E=>{E._edition=j,Object.keys(T).forEach(w=>{E.getOption(w)===void 0&&E.setOption(w,T[w],!0)})})}function I(E,w,O){var N=A.filename;return O||(A.filename=null),Error("illegal "+(w||"token")+" '"+E+"' ("+(N?N+", ":"")+"line "+L.line+")")}function Z(){var E=[],w;do{if((w=x())!=='"'&&w!=="'")throw I(w);E.push(x()),q(w),w=W()}while(w==='"'||w==="'");return E.join("")}function U(E){var w=x();switch(w){case"'":case'"':return H(w),Z();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return ae(w,!0)}catch{if(b.test(w))return w;throw I(w,"value")}}function Q(E,w){var O,N;do if(w&&((O=W())==='"'||O==="'")){var k=Z();if(E.push(k),j>=2023)throw I(k,"id")}else try{E.push([N=te(x()),q("to",!0)?te(x()):N])}catch(X){if(w&&b.test(O)&&j>=2023)E.push(O);else throw X}while(q(",",!0));var V={options:void 0};V.setOption=function(X,oe){this.options===void 0&&(this.options={}),this.options[X]=oe},ee(V,function(oe){if(oe==="option")le(V,oe),q(";");else throw I(oe)},function(){he(V)})}function ae(E,w){var O=1;switch(E.charAt(0)==="-"&&(O=-1,E=E.substring(1)),E){case"inf":case"INF":case"Inf":return O*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(c.test(E))return O*parseInt(E,10);if(p.test(E))return O*parseInt(E,16);if(y.test(E))return O*parseInt(E,8);if(_.test(E))return O*parseFloat(E);throw I(E,"number",w)}function te(E,w){switch(E){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!w&&E.charAt(0)==="-")throw I(E,"id");if(d.test(E))return parseInt(E,10);if(v.test(E))return parseInt(E,16);if(m.test(E))return parseInt(E,8);throw I(E,"id")}function ne(){if(C!==void 0)throw I("package");if(C=x(),!b.test(C))throw I(C,"name");z=z.define(C),q(";")}function K(){var E=W(),w;switch(E){case"weak":w=Y||(Y=[]),x();break;case"public":x();default:w=J||(J=[]);break}E=Z(),q(";"),w.push(E)}function G(){if(q("="),j=Z(),j<2023)throw I(j,"syntax");q(";")}function ue(){if(q("="),j=Z(),!["2023"].includes(j))throw I(j,"edition");q(";")}function ce(E,w){switch(w){case"option":return le(E,w),q(";"),!0;case"message":return de(E,w),!0;case"enum":return ye(E,w),!0;case"service":return Te(E,w),!0;case"extend":return qe(E,w),!0}return!1}function ee(E,w,O){var N=L.line;if(E&&(typeof E.comment!="string"&&(E.comment=F()),E.filename=A.filename),q("{",!0)){for(var k;(k=x())!=="}";)w(k);q(";",!0)}else O&&O(),q(";"),E&&(typeof E.comment!="string"||D)&&(E.comment=F(N)||E.comment)}function de(E,w){if(!g.test(w=x()))throw I(w,"type name");var O=new n(w);ee(O,function(k){if(!ce(O,k))switch(k){case"map":Ee(O);break;case"required":if(j!=="proto2")throw I(k);case"repeated":se(O,k);break;case"optional":if(j==="proto3")se(O,"proto3_optional");else{if(j!=="proto2")throw I(k);se(O,"optional")}break;case"oneof":Oe(O,k);break;case"extensions":Q(O.extensions||(O.extensions=[]));break;case"reserved":Q(O.reserved||(O.reserved=[]),!0);break;default:if(j==="proto2"||!b.test(k))throw I(k);H(k),se(O,"optional");break}}),E.add(O),E===z&&S.push(O)}function se(E,w,O){var N=x();if(N==="group"){we(E,w);return}for(;N.endsWith(".")||W().startsWith(".");)N+=x();if(!b.test(N))throw I(N,"type");var k=x();if(!g.test(k))throw I(k,"name");k=M(k),q("=");var V=new f(k,te(x()),N,w,O);if(ee(V,function(fe){if(fe==="option")le(V,fe),q(";");else throw I(fe)},function(){he(V)}),w==="proto3_optional"){var X=new i("_"+k);V.setOption("proto3_optional",!0),X.add(V),E.add(X)}else E.add(V);E===z&&S.push(V)}function we(E,w){if(j>=2023)throw I("group");var O=x();if(!g.test(O))throw I(O,"name");var N=l.lcFirst(O);O===N&&(O=l.ucFirst(O)),q("=");var k=te(x()),V=new n(O);V.group=!0;var X=new f(N,k,O,w);X.filename=A.filename,ee(V,function(fe){switch(fe){case"option":le(V,fe),q(";");break;case"required":case"repeated":se(V,fe);break;case"optional":j==="proto3"?se(V,"proto3_optional"):se(V,"optional");break;case"message":de(V,fe);break;case"enum":ye(V,fe);break;case"reserved":Q(V.reserved||(V.reserved=[]),!0);break;default:throw I(fe)}}),E.add(V).add(X)}function Ee(E){q("<");var w=x();if(h.mapKey[w]===void 0)throw I(w,"type");q(",");var O=x();if(!b.test(O))throw I(O,"type");q(">");var N=x();if(!g.test(N))throw I(N,"name");q("=");var k=new u(M(N),te(x()),w,O);ee(k,function(X){if(X==="option")le(k,X),q(";");else throw I(X)},function(){he(k)}),E.add(k)}function Oe(E,w){if(!g.test(w=x()))throw I(w,"name");var O=new i(M(w));ee(O,function(k){k==="option"?(le(O,k),q(";")):(H(k),se(O,"optional"))}),E.add(O)}function ye(E,w){if(!g.test(w=x()))throw I(w,"name");var O=new r(w);ee(O,function(k){switch(k){case"option":le(O,k),q(";");break;case"reserved":Q(O.reserved||(O.reserved=[]),!0),O.reserved===void 0&&(O.reserved=[]);break;default:Re(O,k)}}),E.add(O),E===z&&S.push(O)}function Re(E,w){if(!g.test(w))throw I(w,"name");q("=");var O=te(x(),!0),N={options:void 0};N.getOption=function(k){return this.options[k]},N.setOption=function(k,V){a.prototype.setOption.call(N,k,V)},N.setParsedOption=function(){},ee(N,function(V){if(V==="option")le(N,V),q(";");else throw I(V)},function(){he(N)}),E.add(w,O,N.comment,N.parsedOptions||N.options)}function le(E,w){var O,N,k=!0;for(w==="option"&&(w=x());w!=="=";){if(w==="("){var V=x();q(")"),w="("+V+")"}if(k){if(k=!1,w.includes(".")&&!w.includes("(")){var X=w.split(".");O=X[0]+".",w=X[1];continue}O=w}else N=N?N+=w:w;w=x()}var oe=N?O.concat(N):O,fe=ge(E,oe);N=N&&N[0]==="."?N.slice(1):N,O=O&&O[O.length-1]==="."?O.slice(0,-1):O,Ae(E,O,fe,N)}function ge(E,w){if(q("{",!0)){for(var O={};!q("}",!0);){if(!g.test(re=x()))throw I(re,"name");if(re===null)throw I(re,"end of input");var N,k=re;if(q(":",!0),W()==="{")N=ge(E,w+"."+re);else if(W()==="["){N=[];var V;if(q("[",!0)){do V=U(),N.push(V);while(q(",",!0));q("]"),typeof V<"u"&&_e(E,w+"."+re,V)}}else N=U(),_e(E,w+"."+re,N);var X=O[k];X&&(N=[].concat(X).concat(N)),O[k]=N,q(",",!0),q(";",!0)}return O}var oe=U();return _e(E,w,oe),oe}function _e(E,w,O){if(z===E&&/^features\./.test(w)){T[w]=O;return}E.setOption&&E.setOption(w,O)}function Ae(E,w,O,N){E.setParsedOption&&E.setParsedOption(w,O,N)}function he(E){if(q("[",!0)){do le(E,"option");while(q(",",!0));q("]")}return E}function Te(E,w){if(!g.test(w=x()))throw I(w,"service name");var O=new s(w);ee(O,function(k){if(!ce(O,k))if(k==="rpc")xe(O,k);else throw I(k)}),E.add(O),E===z&&S.push(O)}function xe(E,w){var O=F(),N=w;if(!g.test(w=x()))throw I(w,"name");var k=w,V,X,oe,fe;if(q("("),q("stream",!0)&&(X=!0),!b.test(w=x())||(V=w,q(")"),q("returns"),q("("),q("stream",!0)&&(fe=!0),!b.test(w=x())))throw I(w);oe=w,q(")");var pe=new o(k,N,V,oe,X,fe);pe.comment=O,ee(pe,function(ve){if(ve==="option")le(pe,ve),q(";");else throw I(ve)}),E.add(pe)}function qe(E,w){if(!b.test(w=x()))throw I(w,"reference");var O=w;ee(null,function(k){switch(k){case"required":case"repeated":se(E,k,O);break;case"optional":j==="proto3"?se(E,"proto3_optional",O):se(E,"optional",O);break;default:if(j==="proto2"||!b.test(k))throw I(k);H(k),se(E,"optional",O);break}})}for(var re;(re=x())!==null;)switch(re){case"package":if(!B)throw I(re);ne();break;case"import":if(!B)throw I(re);K();break;case"syntax":if(!B)throw I(re);G();break;case"edition":if(!B)throw I(re);ue();break;case"option":le(z,re),q(";",!0);break;default:if(ce(z,re)){B=!1;continue}throw I(re)}return ie(),A.filename=null,{package:C,imports:J,weakImports:Y,root:P}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=t;var e=/\/|\./;function t(f,u){e.test(f)||(f="google/protobuf/"+f+".proto",u={nested:{google:{nested:{protobuf:{nested:u}}}}}),t[f]=u}t("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var n;return t("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),t("timestamp",{Timestamp:n}),t("empty",{Empty:{fields:{}}}),t("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),t("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),t("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),t.get=function(u){return t[u]||null},common_1}var hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src.exports;hasRequiredSrc=1;var e=src.exports=requireIndexLight();return e.build="full",e.tokenize=requireTokenize(),e.parse=requireParse(),e.common=requireCommon(),e.Root._configure(e.Type,e.parse,e.common),src.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc()),protobufjs}var protobufjsExports=requireProtobufjs();const index=getDefaultExportFromCjs(protobufjsExports),protobuf=_mergeNamespaces({__proto__:null,default:index},[protobufjsExports]);var root_6=from_html('<label class="label cursor-pointer"><span class="label-text">Value</span> <input type="checkbox" class="checkbox checkbox-primary"/></label>'),root_8=from_html('<input type="number" class="input input-bordered w-full"/>'),root_9=from_html('<input type="text" class="input input-bordered w-full"/>'),root_3$1=from_html('<div class="card bg-base-200 shadow-inner"><div class="card-body p-4"><div class="flex justify-between items-center"><span class="font-mono text-xs"></span> <div class="btn-group"><button class="btn btn-xs btn-ghost" title="Move Up"></button> <button class="btn btn-xs btn-ghost" title="Move Down"></button> <button class="btn btn-xs btn-ghost text-error" title="Remove Item"></button></div></div> <div class="divider my-1"></div> <!></div></div>'),root_1$2=from_html('<div class="pl-4 border-l-2 border-base-300 space-y-4"><!> <button class="btn btn-sm btn-outline">+ Add Item</button></div>'),root_11=from_html('<div class="pl-4 border-l-2 border-base-300"><!></div>'),root_13=from_html('<button class="btn btn-sm btn-outline"> </button>'),root_16=from_html("<option> </option>"),root_15=from_html('<select class="select select-bordered w-full"></select>'),root_18=from_html('<input type="checkbox" class="checkbox checkbox-primary"/>'),root_20=from_html('<input type="number" class="input input-bordered w-full"/>'),root_21=from_html('<input type="text" class="input input-bordered w-full"/>'),root$2=from_html('<div class="form-control"><label class="label cursor-pointer"><span class="label-text font-bold"> </span></label> <!></div>');function NodeViewer(e,t){push(t,!1);const n=mutable_source(),f=mutable_source(),u=mutable_source();let i=prop(t,"parent",12),r=prop(t,"key",8),s=prop(t,"type",8);const o=new Set(["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64"]);function a(R){return R!==null&&typeof R=="object"&&!Array.isArray(R)}function h(R){return R.toObject({},{defaults:!0,enums:String})}function l(){get(u)&&i(i()[r()]=h(get(u)),!0)}function c(){if(!get(f))return;let R;if(get(f).resolvedType instanceof protobufjsExports.Type)R=h(get(f).resolvedType);else switch(get(f).type){case"string":R="";break;case"bool":R=!1;break;default:R=0;break}i(i()[r()]=[...get(n)||[],R],!0)}function d(R){!get(n)||!Array.isArray(get(n))||i(i()[r()]=get(n).filter((P,$)=>$!==R),!0)}function p(R,P){if(!get(n)||!Array.isArray(get(n)))return;const $=P==="up"?R-1:R+1;if($<0||$>=get(n).length)return;const D=[...get(n)],L=D[R];D[R]=D[$],D[$]=L,i(i()[r()]=D,!0)}legacy_pre_effect(()=>(deep_read_state(i()),deep_read_state(r())),()=>{set(n,i()[r()])}),legacy_pre_effect(()=>(deep_read_state(s()),deep_read_state(r())),()=>{set(f,s().fields[r().toString()])}),legacy_pre_effect(()=>get(f),()=>{var R;set(u,(R=get(f))==null?void 0:R.resolvedType)}),legacy_pre_effect_reset(),init();var v=root$2(),y=child(v),m=child(y),_=child(m),g=sibling(y,2);{var b=R=>{var P=root_1$2(),$=child(P);{var D=x=>{var H=comment(),W=first_child(H);each(W,1,()=>get(n),index$1,(q,F,B)=>{var C=root_3$1(),J=child(C),Y=child(J),j=child(Y);j.textContent=`Item ${B}`;var z=sibling(j,2),S=child(z);S.disabled=B===0;var T=sibling(S,2),M=sibling(T,2),ie=sibling(Y,4);{var I=U=>{ObjectViewer(U,{get object(){return get(F)},get type(){return get(u)}})},Z=U=>{var Q=comment(),ae=first_child(Q);{var te=K=>{var G=root_6(),ue=sibling(child(G),2);bind_checked(ue,()=>get(n)[B],ce=>mutate(n,get(n)[B]=ce)),append(K,G)},ne=(K,G)=>{{var ue=ee=>{var de=root_8();bind_value(de,()=>get(n)[B],se=>mutate(n,get(n)[B]=se)),append(ee,de)},ce=ee=>{var de=root_9();bind_value(de,()=>get(n)[B],se=>mutate(n,get(n)[B]=se)),append(ee,de)};if_block(K,ee=>{get(f),untrack(()=>o.has(get(f).type))?ee(ue):ee(ce,!1)},G)}};if_block(ae,K=>{get(f),untrack(()=>get(f).type==="bool")?K(te):K(ne,!1)})}append(U,Q)};if_block(ie,U=>{get(u)?U(I):U(Z,!1)})}template_effect(()=>T.disabled=(get(n),untrack(()=>B===get(n).length-1))),event("click",S,()=>p(B,"up")),event("click",T,()=>p(B,"down")),event("click",M,()=>d(B)),append(q,C)}),append(x,H)};if_block($,x=>{get(n),untrack(()=>get(n)&&Array.isArray(get(n)))&&x(D)})}var L=sibling($,2);event("click",L,c),append(R,P)},A=(R,P)=>{{var $=L=>{var x=root_11(),H=child(x);ObjectViewer(H,{get object(){return get(n)},get type(){return get(u)}}),append(L,x)},D=(L,x)=>{{var H=q=>{var F=root_13(),B=child(F);template_effect(()=>set_text(B,`+ Add ${r()??""}`)),event("click",F,l),append(q,F)},W=(q,F)=>{{var B=J=>{var Y=root_15();template_effect(()=>{i(),invalidate_inner_signals(()=>{r(),get(f)})}),each(Y,5,()=>(get(f),untrack(()=>Object.keys(get(f).resolvedType.values))),index$1,(j,z)=>{var S=root_16(),T=child(S),M={};template_effect(()=>{set_text(T,get(z)),M!==(M=get(z))&&(S.value=(S.__value=get(z))??"")}),append(j,S)}),bind_select_value(Y,()=>i()[r()],j=>i(i()[r()]=j,!0)),append(J,Y)},C=(J,Y)=>{{var j=S=>{var T=root_18();bind_checked(T,()=>i()[r()],M=>i(i()[r()]=M,!0)),append(S,T)},z=(S,T)=>{{var M=I=>{var Z=root_20();bind_value(Z,()=>i()[r()],U=>i(i()[r()]=U,!0)),append(I,Z)},ie=I=>{var Z=root_21();bind_value(Z,()=>i()[r()],U=>i(i()[r()]=U,!0)),append(I,Z)};if_block(S,I=>{typeof get(n)=="number"?I(M):I(ie,!1)},T)}};if_block(J,S=>{typeof get(n)=="boolean"?S(j):S(z,!1)},Y)}};if_block(q,J=>{get(f),deep_read_state(protobuf),untrack(()=>{var Y;return((Y=get(f))==null?void 0:Y.resolvedType)instanceof protobufjsExports.Enum})?J(B):J(C,!1)},F)}};if_block(L,q=>{get(u)&&get(n)===void 0?q(H):q(W,!1)},x)}};if_block(R,L=>{get(u),get(n),untrack(()=>get(u)&&a(get(n)))?L($):L(D,!1)},P)}};if_block(g,R=>{get(f),untrack(()=>{var P;return(P=get(f))==null?void 0:P.repeated})?R(b):R(A,!1)})}template_effect(()=>set_text(_,r())),append(e,v),pop()}var root$1=from_html('<div class="space-y-4"><!></div>');function ObjectViewer(e,t){push(t,!1);let n=prop(t,"object",8),f=prop(t,"type",8);init();var u=root$1(),i=child(u);{var r=s=>{var o=comment(),a=first_child(o);each(a,1,()=>(deep_read_state(f()),untrack(()=>f().fieldsArray)),index$1,(h,l)=>{NodeViewer(h,{get parent(){return n()},get key(){return get(l),untrack(()=>get(l).name)},get type(){return f()}})}),append(s,o)};if_block(i,s=>{f()&&s(r)})}append(e,u),pop()}function findTargetType(e,t){if(t)try{const f=e.lookupType(t);if(f)return f}catch{}const n=findAllMessageTypes(e);if(n.length===0)throw new Error("No message types found in the schema.");return n[n.length-1]}function decodeWithSchema(e,t,n,f={}){const{root:u}=protobufjsExports.parse(e),i=findTargetType(u,n),r=f.offset?t.subarray(f.offset):t;try{const o=(f.delimited?i.decodeDelimited(r):i.decode(r)).toJSON({enums:String,defaults:!0});return{type:i,decoded:o}}catch(s){if(!f.delimited&&/invalid wire type/i.test(String((s==null?void 0:s.message)||s))){const a=i.decodeDelimited(r).toJSON({enums:String,defaults:!0});return{type:i,decoded:a}}throw s}}function listMessageTypeNames(e){const{root:t}=protobufjsExports.parse(e);return findAllMessageTypes(t).map(f=>f.fullName.replace(/^\./,""))}function encodeFrom(e,t){const n=e.fromObject(t);return e.encode(n).finish()}const numericTypes=new Set(["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64"]);function sanitizeDataForSave(e,t){if(!e||!t)return e;const n={};for(const f in e){if(!Object.prototype.hasOwnProperty.call(e,f))continue;const u=e[f],i=t.fields[f];if(!i){n[f]=u;continue}i.repeated&&i.resolvedType instanceof protobufjsExports.Type&&Array.isArray(u)?n[f]=u.map(r=>sanitizeDataForSave(r,i.resolvedType)):i.resolvedType instanceof protobufjsExports.Type&&isObject(u)?n[f]=sanitizeDataForSave(u,i.resolvedType):i.resolvedType instanceof protobufjsExports.Enum&&typeof u=="string"?n[f]=i.resolvedType.values[u]:numericTypes.has(i.type)&&typeof u!="number"?n[f]=Number(u)||0:n[f]=u}return n}function isObject(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function findAllMessageTypes(e){let t=[];for(const n of e.nestedArray||[])n instanceof protobufjsExports.Type?t.push(n):n instanceof protobufjsExports.Namespace&&(t=t.concat(findAllMessageTypes(n)));return t}const LINTX_PROTO='syntax = "proto3"; package lintx; message FileMapping { string data = 1; string schema = 2; string type = 3; } message Config { repeated FileMapping files = 1; }';async function parseBinaryLintx(e){try{const{root:t}=protobufjsExports.parse(LINTX_PROTO),n=t.lookupType("lintx.Config"),f=n.decode(e),u=n.toObject(f,{defaults:!1}),i=[];if(Array.isArray(u.files)&&u.files.length)for(const r of u.files){const s={};typeof(r==null?void 0:r.data)=="string"&&(s.data=r.data),typeof(r==null?void 0:r.schema)=="string"&&(s.schema=r.schema),typeof(r==null?void 0:r.type)=="string"&&(s.type=r.type),i.push(s)}return i.length?i:null}catch{return null}}function parseKeyValueConfig(e){const t={};for(const n of e.split(/\r?\n/)){const f=n.trim();if(!f||f.startsWith("#")||f.startsWith("//"))continue;const u=f.indexOf("=");if(u<=0)continue;const i=f.slice(0,u).trim().toLowerCase(),r=f.slice(u+1).trim();t[i]=r}return t}function findMatchingConfig(e,t){for(const n of e)if(n.data){const f=n.data.split("/").pop()||n.data;if(f===t||t.includes(f))return n}return e.find(n=>!n.data)||null}var root_2=from_html("<option> </option>"),root_3=from_html('<div role="alert" class="alert alert-error mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),root_4=from_html('<div class="mb-4"><button class="btn btn-success w-full">Save Changes</button></div> <div class="card bg-base-100 shadow-xl"><div class="card-body"><!></div></div>',1),root_5=from_html('<div class="mt-6 card bg-base-200 shadow-xl"><div class="card-body"><div class="flex items-center justify-between mb-2"><div class="font-semibold">Hex Viewer</div> <div class="flex items-center gap-2"><label class="label-text">Source</label> <select class="select select-bordered select-sm"><option>Current (encoded)</option><option>Original</option></select></div></div> <pre class="whitespace-pre overflow-auto max-h-80 p-3 bg-base-100 rounded border border-base-300 text-xs font-mono"> </pre></div></div>'),root_1$1=from_html('<div class="mb-4 card bg-base-200 shadow-xl"><div class="card-body"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><div class="text-sm opacity-70">Schema</div> <div class="font-mono"> </div></div> <div><div class="text-sm opacity-70">Data</div> <div class="font-mono"> </div></div></div></div></div> <div class="mb-4 card bg-base-200 shadow-xl"><div class="card-body"><label class="label">Root Message Type</label> <select class="select select-bordered w-full"><option>Auto (last in schema)</option><!></select></div></div> <!> <!> <!>',1);function StructuralViewer(e,t){push(t,!1);const n=mutable_source(),f=mutable_source();let u=prop(t,"init",8,null),i=prop(t,"onSave",8),r=mutable_source([]),s=mutable_source(null),o=mutable_source(null),a=mutable_source(null),h=mutable_source(""),l=mutable_source("encoded");async function c(){if(u())try{set(h,""),set(a,null);const{type:b,decoded:A}=decodeWithSchema(u().schemaText,u().data,get(s)||u().typeName||null);set(o,b),set(a,A)}catch(b){console.error("Error processing files:",b),set(h,(b==null?void 0:b.message)||String(b))}}function d(b){const A=b.target.value;set(s,A||null),c()}async function p(){var P;if(!i()||!get(o)||!get(a))return;const b=sanitizeDataForSave(get(a),get(o)),A=get(o).verify(b);if(A)throw new Error(`Verification failed: ${A}`);const R=encodeFrom(get(o),b);await i()(R,(P=u())==null?void 0:P.dataName),alert("Save successful!")}function v(b,A=2){return b.toString(16).toUpperCase().padStart(A,"0")}function y(b,A=16){let R=[];for(let P=0;P<b.length;P+=A){const $=b.subarray(P,Math.min(P+A,b.length)),D=v(P,8),L=Array.from($).map(W=>v(W)).join(" "),x="   ".repeat(A-$.length),H=Array.from($).map(W=>W>=32&&W<=126?String.fromCharCode(W):".").join("");R.push(`${D}  ${L}${x}  |${H}|`)}return R.join(`
`)}legacy_pre_effect(()=>(deep_read_state(u()),get(o),get(a),sanitizeDataForSave),()=>{set(n,u()&&get(o)&&get(a)?encodeFrom(get(o),sanitizeDataForSave(get(a),get(o))):u()?u().data:new Uint8Array)}),legacy_pre_effect(()=>(deep_read_state(u()),get(l),get(n)),()=>{set(f,u()?y(get(l)==="encoded"?get(n):u().data):"")}),legacy_pre_effect(()=>(deep_read_state(u()),get(r),listMessageTypeNames),()=>{if(u())try{set(r,listMessageTypeNames(u().schemaText)),set(s,u().typeName&&get(r).includes(u().typeName)?u().typeName:null)}catch{set(r,[]),set(s,null)}}),legacy_pre_effect(()=>deep_read_state(u()),()=>{u()&&c()}),legacy_pre_effect_reset(),init();var m=comment(),_=first_child(m);{var g=b=>{var A=root_1$1(),R=first_child(A),P=child(R),$=child(P),D=child($),L=sibling(child(D),2),x=child(L),H=sibling(D,2),W=sibling(child(H),2),q=child(W),F=sibling(R,2),B=child(F),C=sibling(child(B),2),J=child(C);J.value=J.__value="";var Y=sibling(J);each(Y,1,()=>get(r),index$1,(Z,U)=>{var Q=root_2(),ae=child(Q),te={};template_effect(()=>{set_text(ae,get(U)),te!==(te=get(U))&&(Q.value=(Q.__value=get(U))??"")}),append(Z,Q)});var j;init_select(C);var z=sibling(F,2);{var S=Z=>{var U=root_3(),Q=sibling(child(U),2),ae=child(Q);template_effect(()=>set_text(ae,`Error: ${get(h)??""}`)),append(Z,U)};if_block(z,Z=>{get(h)&&Z(S)})}var T=sibling(z,2);{var M=Z=>{var U=root_4(),Q=first_child(U),ae=child(Q),te=sibling(Q,2),ne=child(te),K=child(ne);ObjectViewer(K,{get object(){return get(a)},get type(){return get(o)}}),template_effect(()=>ae.disabled=!i()),event("click",ae,p),append(Z,U)};if_block(T,Z=>{get(a)&&get(o)&&Z(M)})}var ie=sibling(T,2);{var I=Z=>{var U=root_5(),Q=child(U),ae=child(Q),te=sibling(child(ae),2),ne=sibling(child(te),2);template_effect(()=>{get(l),invalidate_inner_signals(()=>{})});var K=child(ne);K.value=K.__value="encoded";var G=sibling(K);G.value=G.__value="original";var ue=sibling(ae,2),ce=child(ue);template_effect(()=>set_text(ce,get(f))),bind_select_value(ne,()=>get(l),ee=>set(l,ee)),append(Z,U)};if_block(ie,Z=>{u()&&Z(I)})}template_effect(()=>{set_text(x,(deep_read_state(u()),untrack(()=>u().schemaName??"Schema"))),set_text(q,(deep_read_state(u()),untrack(()=>u().dataName??"Data"))),j!==(j=get(s)??"")&&(C.value=(C.__value=get(s)??"")??"",select_option(C,get(s)??""))}),event("change",C,d),append(b,A)};if_block(_,b=>{u()&&b(g)})}append(e,m),pop()}var root_1=from_html('<div role="alert" class="alert alert-error mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),root=from_html('<div class="p-4 sm:p-6 lg:p-8"><div class="max-w-4xl mx-auto"><header class="text-center mb-8"><h1 class="text-4xl font-bold">Structural Editor</h1> <p class="text-lg mt-2">Load a Protobuf schema (.proto) and a binary data file (.bin) to begin editing.</p></header> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><div class="card bg-base-200 shadow-xl"><div class="card-body"><button class="btn btn-primary">Load Schema (.proto)</button> <span class="text-sm mt-2"> </span></div></div> <div class="card bg-base-200 shadow-xl"><div class="card-body"><button class="btn btn-secondary">Load Data (.bin)</button> <span class="text-sm mt-2"> </span></div></div></div> <div class="mb-8"><button class="btn btn-accent w-full">Load Sample Data</button></div> <!> <!></div></div>');function App(e,t){push(t,!1);const n=typeof acquireVsCodeApi=="function"?acquireVsCodeApi:null,f=n?n():null;let u=0;const i=new Map;typeof window<"u"&&(window.addEventListener("message",S=>{const T=S.data||{};if(T&&typeof T=="object"&&"requestId"in T){const M=i.get(T.requestId);M&&(i.delete(T.requestId),M(T))}}),window.addEventListener("message",S=>{const T=S.data||{};if(T&&T.type==="initWithConfig"&&T.payload){const M=T.payload;set(a,M.schema),set(h,new Uint8Array(M.data||[])),set(c,M.schemaName||"Schema"),set(d,M.dataName||"Data"),set(l,M.typeName||null)}}));function r(S,T){if(!f)return Promise.reject(new Error("Not running inside VS Code"));const M=++u;return f.postMessage({type:S,requestId:M,payload:T}),new Promise(ie=>i.set(M,I=>ie(I.payload)))}onMount(()=>{f&&f.postMessage({type:"ready"})});let s=null,o=null,a=mutable_source(null),h=mutable_source(null),l=mutable_source(null),c=mutable_source("No schema loaded"),d=mutable_source("No data loaded"),p=mutable_source(""),v=mutable_source(null);async function y(S){try{if(f){const T=await r("pickFile",{kind:S});S==="schema"?(s=null,set(c,T.name),set(a,new TextDecoder().decode(new Uint8Array(T.content)))):(o=null,set(d,T.name),set(h,new Uint8Array(T.content)))}else{const[T]=await window.showOpenFilePicker({types:[{description:S==="schema"?"Protobuf Schema":"Protobuf Data",accept:{"application/octet-stream":S==="schema"?[".proto"]:[".bin"]}}],multiple:!1});if(S==="schema"){s=T,set(c,T.name);const M=await T.getFile();set(a,await M.text())}else{o=T,set(d,T.name);const M=await T.getFile();set(h,new Uint8Array(await M.arrayBuffer())),confirm("Would you like to search for a configuration file (lintx.binpb) to automatically load the matching schema?")&&await _(T)}}}catch(T){console.error("Error opening file:",T),set(p,(T==null?void 0:T.message)||String(T))}}async function m(){try{set(p,""),s=null,o=null,set(c,"sample.proto"),set(d,"sample.bin");let S,T;if(f){const M=await r("getSample");S=M.schema,T=new Uint8Array(M.data)}else{const M=await fetch("/sample.proto");if(!M.ok)throw new Error("Failed to load sample.proto");S=await M.text();const ie=await fetch("/sample.bin");if(!ie.ok)throw new Error("Failed to load sample.bin");T=new Uint8Array(await ie.arrayBuffer())}set(a,S),set(h,T),set(l,null)}catch(S){console.error("Error loading sample data:",S),set(p,(S==null?void 0:S.message)||String(S))}}async function _(S){try{console.log("Looking for config files for automatic schema loading...");const T=await window.showDirectoryPicker({id:"lintx-config-dir",startIn:"downloads"});if(!T)return;const M=[];for await(const[U,Q]of T.entries())Q.kind==="file"&&(U.toLowerCase().endsWith(".lintx")||U.toLowerCase()==="lintx.txt"||U.toLowerCase()==="lintx.binpb")&&M.push(U);const ie=M.filter(U=>U.toLowerCase().endsWith(".binpb")||U.toLowerCase()==="lintx.binpb"||U.toLowerCase().includes(".lintx")&&!U.toLowerCase().endsWith(".txt")),I=M.filter(U=>U.toLowerCase()==="lintx.txt"),Z=[...ie,...I];for(const U of Z){const ae=await(await T.getFileHandle(U)).getFile(),te=new Uint8Array(await ae.arrayBuffer());let ne=null;if(U.toLowerCase().endsWith(".txt")){const K=new TextDecoder().decode(te),G=parseKeyValueConfig(K),ue={data:G.data||G.file||G.binary,schema:G.schema,type:G.type};ue.schema&&(ne=[ue])}else if(ne=await parseBinaryLintx(te),!ne)try{const K=new TextDecoder().decode(te),G=parseKeyValueConfig(K),ue={data:G.data||G.file||G.binary,schema:G.schema,type:G.type};ue.schema&&(ne=[ue])}catch{}if(ne&&ne.length>0){const K=findMatchingConfig(ne,S.name);if(K!=null&&K.schema)try{const G=await T.getFileHandle(K.schema),ue=await G.getFile();set(a,await ue.text()),s=G,set(c,G.name),set(l,K.type||null),console.log(`Auto-loaded schema: ${get(c)} with type: ${get(l)||"auto"}`);break}catch(G){console.warn(`Could not load schema file ${K.schema}:`,G)}}}}catch(T){console.warn("Error during auto schema loading:",T)}}const g=async(S,T)=>{if(f){await r("saveData",{name:T||get(d)||"data.bin",content:Array.from(S)});return}if(!o)throw set(p,"Cannot save: no file handle available. Load a data file first."),new Error(get(p));const M=await o.createWritable();await M.write(new Uint8Array(S)),await M.close()};legacy_pre_effect(()=>(get(a),get(h),get(l),get(c),get(d)),()=>{set(v,get(a)&&get(h)?{schemaText:get(a),data:get(h),typeName:get(l),schemaName:get(c),dataName:get(d)}:null)}),legacy_pre_effect_reset(),init();var b=root(),A=child(b),R=sibling(child(A),2),P=child(R),$=child(P),D=child($),L=sibling(D,2),x=child(L),H=sibling(P,2),W=child(H),q=child(W),F=sibling(q,2),B=child(F),C=sibling(R,2),J=child(C),Y=sibling(C,2);{var j=S=>{var T=root_1(),M=sibling(child(T),2),ie=child(M);template_effect(()=>set_text(ie,`Error: ${get(p)??""}`)),append(S,T)};if_block(Y,S=>{get(p)&&S(j)})}var z=sibling(Y,2);StructuralViewer(z,{get init(){return get(v)},onSave:g}),template_effect(()=>{set_text(x,get(c)),set_text(B,get(d))}),event("click",D,()=>y("schema")),event("click",q,()=>y("data")),event("click",J,m),append(e,b),pop()}mount(App,{target:document.getElementById("app")});
